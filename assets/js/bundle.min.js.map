{"version":3,"sources":["node_modules/browser-pack/_prelude.js","js/bot-strategies/base.js","js/bot-strategies/gradient-descent.js","js/bot-strategies/random.js","js/bot-strategies/tangent-intersection.js","js/controls/controls.js","js/controls/gamepad.js","js/controls/keyboard.js","js/controls/screen.js","js/full-screen-toggle.js","js/game-mode-bottype.js","js/game-mode-menu.js","js/game-mode-numplayers.js","js/game-mode-play.js","js/game-mode-title.js","js/game-mode.js","js/game.js","js/main.js","js/terrain.js","js/waves.js","js/wavy-animation.js","node_modules/@popperjs/core/dist/cjs/popper.js","node_modules/@wessberg/pointer-events/dist/index.js","node_modules/events/events.js","node_modules/process/browser.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","BotStrategyBase","lower","upper","treasureWidth","_classCallCheck","this","tangents","player","Math","max","min","x","_this","console","assert","concat","positions","filter","reduce","acc","cur","add","Set","sortedPositions","Array","from","values","sort","rightIndex","findIndex","left","right","log","tangentX","lowerValue","lowerSlope","upperValue","upperSlope","lowerTangent","value","slope","upperTangent","map","tx","tangentsRev","_toConsumableArray","reverse","leftIndex","_this2","unshift","push","_","_this3","buildTangentPairsInRange","pair","_base","INITIAL_ALPHA","pow","BotStrategyGradientDescent","_super","gda","lastTarget","locations","lastTargetTangent","find","getNextProbeLocationLocal","message","getNextProbeLocationGlobal","currentTangent","abs","GradientDescentArmijo","clamp","step","oppositeTangent","getOppositeTangentDistance","lastArmijoTangent","oppositeTangentDistance","localMinimumInBetween","tooNarrow","has","bestLocalMaximum","unknownTangentsEqualGreaterLocalMaximum","bestTangent","largestUnknownTerritory","findLargestUnknownTerritory","alpha","tangent","BotStrategyRandom","random","BotStrategyTangentIntersection","margin","intersectionPoint","pl","y","vl","pr","vr","ll","start","end","lr","l1","l2","d1x","d1y","d2x","d2y","denominator","d12x","d12y","intersectLines","intersectTangents","midPoint","leftAtCenter","rightAtCenter","best","Object","assign","weight","intersection","minX","maxX","v","Controls","count","states","fill","action","statesModified","id","key","result","s","_controls","GamepadControls","navigator","getGamepads","gp","index","forEach","modifyState","axes","buttons","pressed","updateState","_get","_getPrototypeOf","prototype","keyMap","ArrowLeft","prop","ArrowRight","ArrowDown","Space","KeyA","KeyD","KeyS","keyCodes","keys","preventDefaultActionForKeys","includes","preventDefault","KeyboardControls","keyCallback","ev","type","window","addEventListener","ScreenControls","element","document","createElement","classList","appendChild","buildControl","mousePressedButton","name","remove","root","newButton","button","checkTouches","targetTouches","setAttribute","passive","FullScreenToggle","fullScreenButton","expandIcon","compressIcon","fullScreenChangeHandler","onpointerup","toggleFullScreen","style","display","fullscreenElement","fullscreenEnabled","exitFullscreen","err","documentElement","requestFullscreen","_gameModeMenu","BOT_TYPE_ORDER","BotTypeMode","IMAGINARY","i18n","botTypeStrings","indexOf","game","botType","selectedIndex","_gameMode","MenuMode","$overlay","$","overlay","menuItems","getMenuItems","getDefaultItemIndex","text","getMenuTitle","appendTo","$selector","addClass","toggleClass","$selectorItems","children","inputs","lastInputs","_ref","input","lastInput","direction","eq","removeClass","processSelection","triggerEvent","PlayerNumberMode","_menuItems","config","maxPlayers","String","numPlayers","_events","_interopRequireDefault","_core","_terrain","waves","_interopRequireWildcard","_random","_tangentIntersection","_gradientDescent","WATER_HEIGHT_SCALE","NUM_WATER_POINTS","TERRAIN_DISTANCE","PlayMode","wavesPoints","points","draw","width","bot","loadSVGSymbol","shipSymbol","attr","overflow","treasureClosedSymbol","treasureOpenedSymbol","isGameOver","discardInputs","remainingTime","maxTime","$gameStats","$remainingTimeContainer","Number","POSITIVE_INFINITY","hide","$remainingProbesContainer","$remainingTime","$remainingProbes","maxProbes","$endingSequenceContainer","modeGroup","group","translate","createPlayer","playerIndex","cssClass","transform","translateX","_probingDone","boat","use","center","probe","probeRope","line","probeY","probeCircle","circle","front","doProbe","terrainHeight","probing","remainingProbes","probeHeight","probeDuration","probeDown","animate","cy","probeRopeDown","plot","PROBE_SIZE","yUp","BOAT_DRAFT","probeUp","after","down","Promise","resolve","up","lastX","flipX","_probing","_probeEventEmitter","probeTurnedOff","emit","probingDone","_asyncToGenerator","regeneratorRuntime","mark","_callee2","_this4","wrap","_context2","prev","next","abrupt","addListener","stop","apply","arguments","addBot","players","botStrategyClass","BotStrategyNewton","botStrategy","nextTarget","getNextProbeLocation","targetX","tangentListener","events","water","polyline","groundGroup","newTerrainHeights","terrainOptions","marginWidth","terrainHeights","terrainPoints","h","height","treasureLocation","locateTreasure","behindGroundGroup","treasure","translateY","treasureClosed","treasureOpened","ground","polygon","groundCover","groundCoverLeft","rect","move","groundCoverRight","showSeaFloor","back","tangentGroup","removeListener","delta","_PlayMode$buildBotInp","_this5","_this$game2","actionPressed","gameOver","_callee5","_context5","showLoseSequenceTimeIsUp","_callee6","_context6","showLoseSequenceNoProbesLeft","slice","buildBotInput","_player$doProbe","treasureFound","then","addTangent","TREASURE_SIZE","_callee8","_context8","_callee7","_context7","showWinSequence","ts","_this6","_this$game3","pad","num","places","_char","padStart","boatTransform","rotate","atan2","PI","flip","ceil","terrainHeightExt","xInArray","tmpIndex","floor","i0","i1","h0","h1","array","treasureIndex","m","arr","each","offset","opacity","angle","b","endingSequenceCallback","uncoverGroundPromise","uncoverGround","all","duration","dx","animateDx","animateDxPromise","winner","winAnnouncement","randomElement","openTreaureChest","_this7","show","showGameOverSequence","firstMessage","secondMessage","secondMessageCallback","Function","cssClasses","delay","ms","setTimeout","restartMessage","$firstMessageDiv","$secondMessageDiv","css","$restartDiv","$endingSequenceDiv","append","top","$announcementAnchor","empty","createPopper","get","placement","botInput","_ref6","_slicedToArray","sign","_wavyAnimation","TitleMode","logoSprite","poly","findOne","pressToStart","textContent","colorEnd","gradientLogo","size","stroke","color","wavyStep","animCounter","ctrl","GameMode","_gameModePlay","_gameModeTitle","_gameModeNumplayers","_gamepad","_screen","_keyboard","_fullScreenToggle","_gameModeBottype","GradientDescentGame","container","createInputs","inputsLast","gameLoop","isPaused","modes","currentMode","controls","debugControlsPane","minAspectRatioContainer","viewContainer","svgDoc","SVG","addTo","viewbox","nested","useScreenControls","screen","useGamepads","gamepad","fullScreenToggle","useKeyboardControls","keyboard","debugControls","registerMode","continuousGame","transition","setMode","showBotType","showNumPlayers","afterNumPlayers","afterTitle","uri","clearStyles","fetch","response","status","statusText","symbol","newSymbol","svg","inputReducer","accInput","curState","getStates","join","lastTs","lag","readInputs","handleInputs","requestAnimationFrame","run","mode","preLoadAssets","modeID","pause","handleExitMode","undefined","clear","innerHTML","handleEnterMode","resume","modeId","event","nextModeId","callback","on","isArray","_game","_main","defaultConfig","defaultLanguage","titleCase","sent","json","l","toLowerCase","charAt","toUpperCase","t0","_callee","defaultConfigUrl","costumConfigUrl","configUrl","_context","URL","location","href","urlSearchParams","URLSearchParams","search","customConfigName","test","getCustomConfigUrl","t1","t2","loadConfig","t3","init","queryStringVariable","translationsDirectory","querySelector","t4","error","numSamples","options","defaultOptions","numHeights","heights","j","convertPointsToHeights","smoothChaikin","open","smooth","flat","numPoints","marginHeight","jitter","Float32Array","marginIndices","predefinedHeights","_ref2","_ref3","_ref4","_ref5","generateInnerTerrainHeights","leftHeight","rightHeight","_subdivide","subarray","generateTerrainPoints","smoothing","number","decimalPlaces","factor","round","PERIOD","cos","svgContainer","numSteps","xScale","yScale","keyframes","keyframesString","replace","attributeName","dur","repeatCount","sin","shape","userOptions","xAmplitude","cycles","polygons","originalPlots","maxY","counter","progress","getBoundingClientRect","bottom","getWindow","node","toString","ownerDocument","defaultView","getWindowScroll","win","scrollLeft","pageXOffset","scrollTop","pageYOffset","isElement","Element","isHTMLElement","HTMLElement","getNodeName","nodeName","getDocumentElement","getWindowScrollBarX","getComputedStyle","isScrollParent","_getComputedStyle","overflowX","overflowY","getCompositeRect","elementOrVirtualElement","offsetParent","isFixed","isOffsetParentAnElement","scroll","offsets","clientLeft","clientTop","getLayoutRect","offsetLeft","offsetTop","offsetWidth","offsetHeight","getParentNode","assignedSlot","parentNode","host","listScrollParents","list","scrollParent","getScrollParent","body","isBody","target","visualViewport","updatedList","getTrueOffsetParent","position","html","getOffsetParent","currentNode","perspective","willChange","getContainingBlock","defineProperty","auto","basePlacements","clippingParents","viewport","popper","reference","variationPlacements","placements","modifierPhases","order","modifiers","Map","visited","modifier","set","requires","requiresIfExists","dep","depModifier","format","str","_len","args","_key","INVALID_MODIFIER_ERROR","MISSING_DEPENDENCY_ERROR","VALID_PROPERTIES","getBasePlacement","split","contains","parent","child","isShadow","Boolean","getRootNode","isSameNode","rectToClientRect","getClientRectFromMixedType","clippingParent","clientWidth","clientHeight","userAgent","winScroll","scrollWidth","scrollHeight","getClippingRect","boundary","rootBoundary","clipperElement","mainClippingParents","firstClippingParent","clippingRect","accRect","getVariation","getMainAxisFromPlacement","computeOffsets","basePlacement","variation","commonX","commonY","mainAxis","len","getFreshSideObject","mergePaddingObject","paddingObject","expandToHashMap","hashMap","detectOverflow","state","_options$placement","_options$boundary","_options$rootBoundary","_options$elementConte","elementContext","_options$altBoundary","altBoundary","_options$padding","padding","altContext","referenceElement","elements","popperRect","rects","clippingClientRect","contextElement","referenceClientRect","popperOffsets","strategy","popperClientRect","elementClientRect","overflowOffsets","offsetData","modifiersData","multiply","axis","INVALID_ELEMENT_ERROR","DEFAULT_OPTIONS","areValidElements","some","popperGenerator","generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","fn","pending","orderedModifiers","attributes","styles","effectCleanupFns","isDestroyed","instance","setOptions","cleanupModifierEffects","scrollParents","merged","identifiers","current","existing","data","phase","enabled","process","env","NODE_ENV","item","identifier","effect","requirement","mod","marginTop","marginRight","marginBottom","marginLeft","parseFloat","warn","cleanupFn","_ref3$options","update","forceUpdate","_state$elements","reset","_state$orderedModifie","_state$orderedModifie2","_options","__debug_loops__","destroy","onFirstUpdate","unsetSides","mapToStyles","_Object$assign2","dpr","gpuAcceleration","adaptive","_roundOffsets","devicePixelRatio","hasX","hasOwnProperty","hasY","sideX","sideY","_Object$assign","commonStyles","hash","getOppositePlacement","matched","hash$1","getOppositeVariationPlacement","within","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","_options$scroll","_options$resize","resize","removeEventListener","transitionProperty","_options$gpuAccelerat","_options$adaptive","property","arrow","data-popper-placement","removeAttribute","initialStyles","attribute","_options$offset","invertDistance","skidding","distance","_data$state$placement","_skip","_options$mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","_options$flipVariatio","flipVariations","allowedAutoPlacements","preferredPlacement","oppositePlacement","getExpandedFallbackPlacements","_options$allowedAutoP","placements$1","allowedPlacements","overflows","computeAutoPlacement","referenceRect","checksMap","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","isVertical","mainVariationSide","altVariationSide","checks","every","check","_i","fittingPlacement","_loop","mainSide","altSide","additive","minLen","maxLen","arrowElement","arrowRect","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","arrowOffsetParent","clientOffset","offsetModifierValue","tetherMin","tetherMax","preventedOffset","_mainSide","_altSide","_offset","_preventedOffset","_options$tether","tether","_options$tetherOffset","tetherOffset","isBasePlacement","tetherOffsetValue","_state$modifiersData$","minProp","maxProp","endDiff","startDiff","clientSize","centerToReference","centerOffset","_options$element","preventOverflow","referenceOverflow","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","data-popper-reference-hidden","data-popper-escaped","isTouchDevice","Navigator","maxTouchPoints","msMaxTouchPoints","enumerable","isPointerEventType","originalDispatchEvent_1","SUPPORTS_POINTER_EVENT_HANDLERS","EventTarget","dispatchEvent","eventHandler","__assign","__read","Symbol","iterator","ar","done","POINTER_EVENT_DEFAULT_VALUES","pointerId","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","SHARED_DESCRIPTOR_OPTIONS","writable","configurable","getDescriptorWithFallback","providedValue","SEEN_POINTER_IDS","PointerEvent","deepPath","composedPath","getModifierState","_keyArg","initEvent","_type","_bubbles","_cancelable","initMouseEvent","_typeArg","_canBubbleArg","_cancelableArg","_viewArg","_detailArg","_screenXArg","_screenYArg","_clientXArg","_clientYArg","_ctrlKeyArg","_altKeyArg","_shiftKeyArg","_metaKeyArg","_buttonArg","_relatedTargetArg","initUIEvent","stopImmediatePropagation","stopPropagation","eventInitDict","propsToSet","mouseEvent","MouseEvent","defineProperties","convertPointerEventType","pointerEventType","TypeError","eventTarget","getParent","currentElement","nodeType","ShadowRoot","Node","POINTER_ID_TO_CAPTURED_TARGET_MAP","getPressure","touchOrMouseEvent","force","webkitForce","getTouchTarget","touch","captured","currentTarget","parent_1","findNearestRoot","elementFromPoint","clientX","clientY","getEventPath","path","overwriteTargetsForEvent","relatedTarget","currentMousePointerId","currentPenOrTouchPointerId","getPointerIdFromTouch","isCancelable","cancelable","canBubble","bubbles","CLONEABLE_EVENT_PROPERTIES","CLONEABLE_UI_EVENT_PROPERTIES","__spread","UIEvent","cloneEventAsPointerEvent","_a","dynamicPropertiesHandler","initOptions","overwrittenMouseEventProperties","clone","rawPreventDefault","rawStopPropagation","rawStopImmediatePropagation","defaultPrevented","additionalPropsToSet","pointerIdToCancelFiredSet","updatePointerIdToCancelFiredSet","invokeListener","listener","handleEvent","styleDeclarationPropertyName","styleAttributePropertyName","styleAttributePropertyNameRegex","RegExp","TOUCH_ACTION_PROPERTY_NAME","PANNING_DIFFERENCE_THRESHOLD","POINTER_EVENTS_TO_TRACK","LAST_POINTER_DOWN_EVENT_FOR_POINTER_ID","handleDynamicPropertiesForPointerEventOnTouch","currentTouch","offsetX","offsetY","layerX","layerY","screenX","screenY","pageX","pageY","movementX","movementY","radiusX","webkitRadiusX","getTouchWidth","radiusY","webkitRadiusY","getTouchHeight","rotationAngle","webkitRotationAngle","getTouchTwist","handlePrePointerEventForTouch","pointerEvents","touchAction_1","pointerDownEvent","diffX","absDiffX","diffY","absDiffY","isPanningX","isPanningY","isPanningUp","isPanningDown","isPanningLeft","isPanningRight","changedTouches","createPointerEventsForTouchOfTypeAndDispatch","handlePostPointerEventForTouch","pointerMoveHandler_1","unbindPointerMoveHandler_1","ancestorsWithScroll_1","hasFiredScrollEvent_1","unbindScrollListeners_1","scrollHandler_1","match","releasePointerCapture","canScrollX","canScrollY","getPropertyValue","startsWith","endsWith","scrollElement","findNearestAncestorsWithScroll","pointerEventToTrack","handleTouchAction","touchActionAncestors","hasTouchActionNoneAncestor","hasPanXAncestor","hasPanYAncestor","hasPanUpAncestor","hasPanDownAncestor","hasPanLeftAncestor","hasPanRightAncestor","canPanX","canPanY","styleAttributeValue","attributeValue","touchActionPropertyValue","getAttribute","touchAction","part","trim","findNearestAncestorsWithTouchAction","ancestor","createPointerEventsForTouchOfType","scoped","fromElement","toElement","detail","composed","Touch","region","Event","clonedEvent","handlePointerEventForTouch","getMouseTarget","POINTER_UP_FALLBACK_LISTENER_MAP","handlePostPointerEventForMouse","dispose","handler","upEvent","createPointerEventsForMouseOfTypeAndDispatch","handleDynamicPropertiesForPointerEventOnMouse","createPointerEventsForMouseOfType","extraDescriptors","handlePointerEventForMouse","boundHandlerMap","addBoundHandler","originalAddEventListener_1","originalRemoveEventListener_1","SUPPORTS_POINTER_EVENTS","convertedEventType","firedPointerEventsHandler","isTrusted","boundHandlers","ongotpointercapture","onlostpointercapture","onpointerdown","onpointermove","onpointercancel","onpointerover","onpointerout","onpointerenter","onpointerleave","hasPointerLock","pointerLockElement","mozPointerLockElement","throwDOMException","exception","DOMException","ex","setPointerCapture","isConnected","TouchEvent","hasPointerCapture","objectCreate","create","proto","F","objectKeys","obj","k","bind","context","EventEmitter","_eventsCount","_maxListeners","hasDefineProperty","defaultMaxListeners","$getMaxListeners","that","_addListener","prepend","w","newListener","warned","emitter","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","ret","unwrapListeners","arrayClone","listenerCount","copy","arg","setMaxListeners","isNaN","getMaxListeners","er","doError","isFn","self","listeners","emitNone","arg1","emitOne","arg2","emitTwo","arg3","emitThree","emitMany","prependListener","once","prependOnceListener","originalListener","shift","pop","spliceOne","removeAllListeners","rawListeners","eventNames","Reflect","ownKeys","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","marker","runClearTimeout","Item","noop","nextTick","title","browser","argv","version","versions","off","binding","cwd","chdir","dir","umask"],"mappings":"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","file":"bundle.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export default class BotStrategyBase {\n  /**\n   * Construct a new bot strategy.\n   * @param lower {number} Lower bound for probe location.\n   * @param upper {number} Upper bound for probe location.\n   * @param treasureWidth {number} Width of the treasure to search for.\n   *  If two adjacent probes are closer together than treasureWidth, the treasure must be located\n   *  somewhere else.\n   */\n  constructor(lower, upper, treasureWidth) {\n    this.lower = lower;\n    this.upper = upper;\n    this.treasureWidth = treasureWidth;\n  }\n\n  /**\n   * Compute the location in [this.lower,this.upper] to probe next. Overwrite in subclasses.\n   *\n   * @param tangents {[{x:number,value:number,slope:number}]}\n   * @param player\n   * @param playerIndex {number}\n   * @param players {[]}\n   * @returns {number}\n   */\n  getNextProbeLocation(tangents, player, playerIndex, players) {\n    return Math.max(this.lower, Math.min(player.x, this.upper));\n  }\n\n  clamp(x) {\n    return Math.max(this.lower, Math.min(x, this.upper));\n  }\n\n  getAdjacentTangentDistance(x, tangents) {\n    console.assert(\n      this.lower <= x && x <= this.upper,\n      `x=${x} out of range [${this.lower},${this.upper}]`\n    );\n\n    const positions = tangents\n      .filter(t => this.lower <= t.x && t.x < this.upper)\n      .reduce((acc, cur) => acc.add(cur.x), new Set())\n      .add(this.lower)\n      .add(this.upper);\n    const sortedPositions = Array.from(positions.values()).sort();\n\n    const rightIndex = sortedPositions.findIndex(p => x <= p);\n    const left = sortedPositions[Math.max(0, rightIndex - 1)];\n    const right = sortedPositions[rightIndex];\n\n    console.log(sortedPositions, x, rightIndex);\n\n    return right - left;\n  }\n\n  getOppositeTangentDistance(tangentX, x, tangents, lowerValue, lowerSlope, upperValue, upperSlope) {\n    console.assert(\n      this.lower <= x && x <= this.upper,\n      `x=${x} out of range [${this.lower},${this.upper}]`\n    );\n    console.assert(\n      this.lower <= tangentX && tangentX <= this.upper,\n      `tangentX=${tangentX} out of range [${this.lower},${this.upper}]`\n    );\n\n    const lowerTangent = { x: this.lower, value: lowerValue, slope: lowerSlope };\n    const upperTangent = { x: this.upper, value: upperValue, slope: upperSlope };\n\n    if (tangentX < x) {\n      const rightIndex = tangents.map(t => t.x).findIndex(tx => x <= tx);\n      const right = rightIndex === -1 ? upperTangent : tangents[rightIndex];\n      return right;\n    } else {\n      const tangentsRev = [...tangents].reverse();\n      const leftIndex = tangentsRev.map(t => t.x).findIndex(tx => tx <= x);\n      const left = leftIndex === -1 ? lowerTangent : tangentsRev[leftIndex];\n      return left;\n    }\n  }\n\n  buildTangentPairsInRange(tangents, lowerValue, lowerSlope, upperValue, upperSlope) {\n    // Filter out-of-range tangents\n    tangents = tangents.filter(t => this.lower <= t.x && t.x <= this.upper);\n\n    // Add sentinel tangents for left and right border\n    tangents.unshift({ x: this.lower, value: lowerValue, slope: lowerSlope });\n    tangents.push({ x: this.upper, value: upperValue, slope: upperSlope });\n\n    // Build list of pairs of adjacent tangents\n    const tangentPairs = Array.from(\n      { length: tangents.length - 1 },\n      (_, i) => ({ left: tangents[i], right: tangents[i + 1] })\n    )\n\n    return tangentPairs;\n  }\n\n  findLargestUnknownTerritory(tangents) {\n    // Build list of pairs of adjacent tangents and remove pairs that are too close together\n    const tangentPairs = this.buildTangentPairsInRange(tangents, 0, 0, 0, 0)\n      .filter(pair => pair.right.x - pair.left.x >= this.treasureWidth);\n\n    const largestUnknownTerritory = tangentPairs.reduce(\n      (acc, cur) => cur.right.x - cur.left.x > acc.right.x - acc.left.x ? cur : acc\n    );\n\n    return largestUnknownTerritory;\n  }\n}\n","import BotStrategyBase from './base';\n\nconst INITIAL_ALPHA = 1.0 / Math.pow(2, 7);\nconst SIGMA = 0.5;\nconst RHO = 0.5;\nconst LOCAL_MIN_SLOPE = 0.2;\n\n/**\n * This is a backtracking gradient descent strategy using the Armijo step size condition.\n */\nexport default class BotStrategyGradientDescent extends BotStrategyBase {\n\n  constructor(lower, upper, treasureWidth) {\n    super(lower, upper, treasureWidth);\n    this.gda = null;\n    this.lastTarget = null;\n    this.locations = new Set();\n  }\n\n  /**\n   * Return a random next probe location.\n   *\n   * @param tangents {[{x:number,value:number,slope:number}]}\n   * @param player\n   * @param playerIndex {number}\n   * @param players {[]}\n   * @returns {number}\n   */\n  getNextProbeLocation(tangents, player, playerIndex, players) {\n    let x;\n    if (this.lastTarget === null) {\n      // There is no last target -> probe at the current location\n      x = player.x;\n    } else {\n      // There is a last target\n      const lastTargetTangent = tangents.find(t => t.x === this.lastTarget) || null;\n      if (lastTargetTangent === null) {\n        // The player didn't probe at the last target yet -> send the player there again\n        x = this.lastTarget;\n      } else {\n        // There is a tangent for the last target -> continue from there\n        try {\n          // Try to do a local step\n          x = this.getNextProbeLocationLocal(lastTargetTangent, tangents);\n        } catch (e) {\n          console.log('BotStrategyGradientDescent', e.message);\n          // Local step failed -> do a global step\n          x = this.getNextProbeLocationGlobal(tangents);\n        }\n      }\n    }\n\n    this.locations.add(x);\n    this.lastTarget = x;\n    return x;\n  }\n\n  getNextProbeLocationLocal(currentTangent, tangents) {\n    console.log('BotStrategyGradientDescent', 'Local step with ', currentTangent);\n\n    if (Math.abs(currentTangent.slope) < LOCAL_MIN_SLOPE) {\n      throw new Error('Local minimum reached');\n    }\n\n    if (this.gda === null) {\n      this.locations.add(currentTangent.x);\n      this.gda = new GradientDescentArmijo();\n    }\n\n    let x;\n    do {\n      x = this.clamp(this.gda.step(currentTangent));\n      // TODO: Do not look for the adjacent tangents but for the last Armijo tangents and the\n      // TODO: tangent on the opposite side of x\n      // NOTE: This doesn't care about overshooting. Even though it could easily be prevented,\n      // the regular gradient descent algorithm doesn't do it so we don't do it either\n      const oppositeTangent = this.getOppositeTangentDistance(\n        this.gda.lastArmijoTangent.x,\n        x,\n        tangents\n      );\n      const oppositeTangentDistance = Math.abs(this.gda.lastArmijoTangent.x - oppositeTangent.x);\n      const localMinimumInBetween = this.gda.lastArmijoTangent.slope * oppositeTangent.slope < 0;\n      const tooNarrow = oppositeTangentDistance < this.treasureWidth;\n      console.log(\n        \"oppositeTangentDistance\", oppositeTangentDistance,\n        \"tooNarrow\", tooNarrow\n      );\n      if (x === this.gda.lastArmijoTangent.x || (localMinimumInBetween && tooNarrow)) {\n        // No useful progress possible -> do global search step\n        throw new Error('No local progress possible');\n      }\n    }\n    while (this.locations.has(x)); // don't probe the same position twice\n\n    return x;\n  }\n\n  getNextProbeLocationGlobal(tangents) {\n    console.log('BotStrategyGradientDescent', 'Global step');\n\n    try {\n      // Try to find a tangent that we didn't use so far and that's above all currently known local maxima\n\n      const bestLocalMaximum = tangents\n        .filter(t => Math.abs(t.slope) < LOCAL_MIN_SLOPE)\n        .reduce((acc, cur) => cur.value > acc.value ? cur : acc, 0);\n      const unknownTangentsEqualGreaterLocalMaximum = tangents\n        .filter(t => t.value >= bestLocalMaximum && !this.locations.has(t.x));\n      const bestTangentReducer = (acc, cur) => acc.value > cur.value ? acc : cur;\n\n      // The following will throw an error if the array is empty -> continue with catch-clause.\n      const bestTangent = unknownTangentsEqualGreaterLocalMaximum.reduce(bestTangentReducer);\n\n      // We didn't probe at that location ourselves, but we can assume we did\n      this.locations.add(bestTangent.x);\n\n      // Start a local search from the new starting point\n      this.gda = null;\n      return this.getNextProbeLocationLocal(bestTangent)\n    } catch (e) {\n      // Jump to the mid point of the largest unknown territory\n      this.gda = null;\n      const largestUnknownTerritory = this.findLargestUnknownTerritory(tangents);\n      return (largestUnknownTerritory.left.x + largestUnknownTerritory.right.x) / 2;\n    }\n  }\n}\n\nclass GradientDescentArmijo {\n  constructor() {\n    this.lastArmijoTangent = null;\n    this.alpha = INITIAL_ALPHA;\n  }\n\n  step(tangent) {\n    if (!this.lastArmijoTangent) {\n      this.lastArmijoTangent = tangent;\n      this.alpha = INITIAL_ALPHA;\n    }\n\n    const armijo = tangent.value > this.lastArmijoTangent.value\n      + this.alpha * SIGMA * Math.abs(this.lastArmijoTangent.slope);\n    if (armijo) {\n      this.lastArmijoTangent = tangent;\n      this.alpha = INITIAL_ALPHA;\n      return this.step(tangent);\n    } else {\n      const x = this.lastArmijoTangent.x + this.alpha * this.lastArmijoTangent.slope;\n      console.log('alpha', this.alpha, 't', tangent, 'x', x);\n      this.alpha *= RHO;\n      return x;\n    }\n  }\n}\n","import BotStrategyBase from './base';\n\nexport default class BotStrategyRandom extends BotStrategyBase {\n  /**\n   * Return a random next probe location.\n   *\n   * @param tangents {[{x:number,value:number,slope:number}]}\n   * @param player\n   * @param playerIndex {number}\n   * @param players {[]}\n   * @returns {number}\n   */\n  getNextProbeLocation(tangents, player, playerIndex, players) {\n    return this.lower + (this.upper - this.lower) * Math.random();\n  }\n}\n","import BotStrategyBase from './base';\n\nexport default class BotStrategyTangentIntersection extends BotStrategyBase {\n  /**\n   * TODO: Document\n   *\n   * @param tangents {[{x:number,value:number,slope:number}]}\n   * @param player\n   * @param playerIndex {number}\n   * @param players {[]}\n   * @returns {number}\n   */\n  getNextProbeLocation(tangents, player, playerIndex, players) {\n    // Build list of pairs of adjacent tangents and remove pairs that are too close together\n    const tangentPairs = this.buildTangentPairsInRange(tangents, 0, 0.5, 0, -0.5)\n      .filter(pair => pair.right.x - pair.left.x >= this.treasureWidth);\n\n    // Compute a new weighted point for each pair of tangents\n    const inBetweenPoints = tangentPairs.map(pair => computePointBetweenTangents(\n      pair.left,\n      pair.right,\n      this.treasureWidth / 2\n    ));\n\n    // Choose the one with the highest weight\n    const newX = inBetweenPoints.reduce((acc, cur) => acc.weight > cur.weight ? acc : cur).x;\n\n    return newX;\n  }\n}\n\nfunction computePointBetweenTangents(left, right, margin) {\n  const intersectionPoint = intersectTangents(left, right);\n  const midPoint = {\n    x: (left.x + right.x) / 2,\n    y: (left.value + right.value) / 2,\n  };\n  const leftAtCenter = {\n    x: midPoint.x,\n    y: left.value + left.slope * (right.x - left.x),\n  }\n  const rightAtCenter = {\n    x: midPoint.x,\n    y: right.value - right.slope * (right.x - left.x),\n  }\n\n  const all = [intersectionPoint, midPoint, leftAtCenter, rightAtCenter];\n  const best = all.filter(p => p !== null)\n    .map(p => Object.assign(p, { weight: weighIntersection(left, right, p, margin) }))\n    .reduce((acc, cur) => acc.weight > cur.weight ? acc : cur);\n\n  // Make sure the new x is far away from both ends\n  const minX = left.x + margin;\n  const maxX = right.x - margin;\n  best.x = Math.max(minX, Math.min(best.x, maxX));\n\n  return best;\n}\n\nfunction weighIntersection(left, right, intersection, margin) {\n  if (left.value <= intersection.y && right.value <= intersection.y) {\n    // high weight if intersection point probably improves upon its endpoints\n    return 1 + intersection.y;\n  } else {\n    return intersection.y * (right.x - left.x - 2 * margin);\n  }\n}\n\nfunction intersectTangents(left, right) {\n  const pl = { x: left.x, y: left.value };\n  const vl = { x: 1, y: left.slope };\n  const pr = { x: right.x, y: right.value };\n  const vr = { x: -1, y: -right.slope };\n  const ll = { start: pl, end: add(pl, vl) };\n  const lr = { start: pr, end: add(pr, vr) };\n  const p = intersectLines(ll, lr);\n  const inInterval = p !== null // the two lines intersect\n    && left.x < p.x && p.x < right.x; // intersection point is in between the two endpoints\n  return inInterval ? p : null;\n}\n\nfunction add(p, v) {\n  return { x: p.x + v.x, y: p.y + v.y }\n}\n\nfunction intersectLines(l1, l2) {\n  const d1x = l1.end.x - l1.start.x;\n  const d1y = l1.end.y - l1.start.y;\n  const d2x = l2.end.x - l2.start.x;\n  const d2y = l2.end.y - l2.start.y;\n  const denominator = (d2y * d1x) - (d2x * d1y);\n  if (denominator === 0) {\n    return null;\n  }\n\n  const d12x = l1.start.x - l2.start.x;\n  const d12y = l1.start.y - l2.start.y;\n  const numerator = (d2x * d12y) - (d2y * d12x);\n  const t = numerator / denominator;\n\n  return {\n    x: l1.start.x + t * d1x,\n    y: l1.start.y + t * d1y,\n  };\n}\n","/**\n * Component that handles gamepad controls\n *\n */\nexport default class Controls {\n  /**\n   * Constructor\n   *\n   * @param {Number} count\n   *  (Integer) Number of controllers to handle\n   */\n  constructor(count) {\n    this.states = Array(count)\n      .fill(null)\n      .map(_ => ({\n        left: false,\n        right: false,\n        action: false,\n      }));\n    this.statesModified = false;\n  }\n\n  /**\n   * Builds a single on-screen controller\n   *\n   * @protected\n   */\n  modifyState(id, key, value) {\n    if (this.states[id][key] !== value) {\n      this.states[id][key] = value;\n      this.statesModified = true;\n    }\n  }\n\n  /**\n   * Returns state of all controllers\n   *\n   * State is returned as an array with one object per controller\n   * with properties indicating the state of each button.\n   *\n   * @return {[{\n   *   left: Boolean,\n   *   right: Boolean,\n   *   action: Boolean\n   * }]}\n   */\n  getStates() {\n    if (this.statesModified) {\n      const result = this.states;\n      this.states = this.states.map(s => Object.assign({}, s)); // immutability: use cloned array for future changes\n      this.statesModified = false;\n      return result;\n    } else {\n      return this.states;\n    }\n  }\n}\n","import Controls from \"./controls\";\n\n/**\n * Component that handles gamepad controls\n *\n */\nexport default class GamepadControls extends Controls {\n  /**\n   * Constructor\n   *\n   * @param {Number} count\n   *  (Integer) Number of controllers to show\n   */\n  constructor(count) {\n    super(count);\n  }\n\n  updateState() {\n    // clone the current state such state objects are immutable\n    this.states = [...this.states];\n    Array.from(navigator.getGamepads())\n      .filter(gp => gp !== null && gp.index < this.states.length)\n      .forEach(gp => {\n        this.modifyState(gp.index, \"left\", gp.axes[0] < -0.5);\n        this.modifyState(gp.index, \"right\", gp.axes[0] > 0.5);\n        this.modifyState(gp.index, \"action\", gp.buttons[1].pressed || gp.buttons[2].pressed);\n      });\n  }\n\n  /**\n   * Returns state of all controllers\n   *\n   * State is returned as an array with one object per controller\n   * with properties indicating the state of each button.\n   *\n   * @return {[{\n   *   left: Boolean,\n   *   right: Boolean,\n   *   action: Boolean\n   * }]}\n   */\n  getStates() {\n    this.updateState();\n    return super.getStates();\n  }\n}\n","import Controls from \"./controls\";\n\nconst keyMap = {\n  'ArrowLeft': { id: 0, prop: 'left' },\n  'ArrowRight': { id: 0, prop: 'right' },\n  'ArrowDown': { id: 0, prop: 'action' },\n  'Space': { id: 0, prop: 'action' },\n  'KeyA': { id: 1, prop: 'left' },\n  'KeyD': { id: 1, prop: 'right' },\n  'KeyS': { id: 1, prop: 'action' },\n};\nconst keyCodes = Object.keys(keyMap);\n\n/**\n * Certain default actions like scrolling should be prevented for the keys used for the game.\n */\nfunction preventDefaultActionForKeys(e) {\n  if (keyCodes.includes(e.code))\n    e.preventDefault();\n}\n\n/**\n * Component that handles keyboard controls\n *\n * Supports up to two players at the moment.\n *\n */\nexport default class KeyboardControls extends Controls {\n  /**\n   * Constructor\n   *\n   * @param {Number} count\n   *  (Integer) Number of controllers to show\n   */\n  constructor(count) {\n    super(count);\n\n    const keyCallback = ev => {\n      const key = keyMap[ev.code];\n      if (key && key.id < count)\n        this.modifyState(key.id, key.prop, ev.type === 'keydown');\n    };\n\n    window.addEventListener('keydown', keyCallback);\n    window.addEventListener('keyup', keyCallback);\n    window.addEventListener(\"keydown\", preventDefaultActionForKeys, false);\n  }\n}\n","import Controls from \"./controls\";\n\n/**\n * Component that handles on-screen controls\n *\n * Supports both mouse and multitouch input.\n *\n */\nexport default class ScreenControls extends Controls {\n  /**\n   * Constructor\n   *\n   * @param {Number} count\n   *  (Integer) Number of controllers to show\n   */\n  constructor(count) {\n    super(count);\n    this.element = document.createElement('div');\n    this.element.classList.add('screen-controls');\n    this.element.classList.add(`with-${count}-controls`);\n\n    for (let i = 0; i < this.states.length; ++i)\n      this.element.appendChild(this.buildControl(i));\n\n    // Global mouseup handling for all buttons\n    this.mousePressedButton = null;\n    window.addEventListener('mouseup', () => {\n      if (this.mousePressedButton !== null) {\n        this.modifyState(this.mousePressedButton.id, this.mousePressedButton.name, false);\n        this.mousePressedButton.element.classList.remove('active');\n        this.mousePressedButton = null;\n      }\n    });\n  }\n\n  /**\n   * Builds a single on-screen controller\n   *\n   * @private\n   * @param {Number} id\n   *  Zero-based integer index of the controller\n   * @return {HTMLDivElement}\n   */\n  buildControl(id) {\n    const root = document.createElement('div');\n    root.classList.add('screen-control', `screen-control-${id}`);\n\n    const newButton = (name) => {\n      const button = document.createElement('button');\n      button.setAttribute('type', 'button');\n      button.classList.add(name);\n\n      const checkTouches = (ev) => {\n        if (ev.targetTouches.length > 0) {\n          this.modifyState(id, name, true);\n          button.classList.add('active');\n        } else {\n          this.modifyState(id, name, false);\n          button.classList.remove('active');\n        }\n        ev.preventDefault();\n      };\n\n      button.addEventListener('touchstart', checkTouches, { passive: false });\n      button.addEventListener('touchmove', checkTouches, { passive: false });\n      button.addEventListener('touchend', checkTouches, { passive: false });\n      button.addEventListener('touchcancel', checkTouches, { passive: false });\n\n      button.addEventListener('mousedown', () => {\n        this.modifyState(id, name, true);\n        button.classList.add('active');\n        this.mousePressedButton = {\n          id,\n          name,\n          element: button,\n        };\n      });\n\n      return button;\n    };\n\n    root.appendChild(newButton('left'));\n    root.appendChild(newButton('action'));\n    root.appendChild(newButton('right'));\n\n    return root;\n  }\n}\n","export default class FullScreenToggle {\n  constructor() {\n    this.fullScreenButton = document.createElement('div');\n    this.fullScreenButton.classList.add('fullscreen-button');\n\n    this.expandIcon = document.createElement('i');\n    this.expandIcon.classList.add('fas', 'fa-sm', 'fa-expand');\n    this.fullScreenButton.appendChild(this.expandIcon);\n\n    this.compressIcon = document.createElement('i');\n    this.compressIcon.classList.add('fas', 'fa-compress');\n    this.fullScreenButton.appendChild(this.compressIcon);\n\n    window.addEventListener('fullscreenchange', () => this.fullScreenChangeHandler());\n    this.fullScreenChangeHandler();\n\n    this.fullScreenButton.onpointerup = () => this.toggleFullScreen();\n\n    this.element = this.fullScreenButton;\n  }\n\n  fullScreenChangeHandler() {\n    this.expandIcon.style.display = document.fullscreenElement ? 'none' : 'block';\n    this.compressIcon.style.display = !document.fullscreenElement ? 'none' : 'block';\n  }\n\n  toggleFullScreen() {\n    if (document.fullscreenEnabled) {\n      if (!document.fullscreenElement) {\n        document.documentElement.requestFullscreen().catch(err => console.log(err));\n      } else {\n        document.exitFullscreen().catch(err => console.log(err));\n      }\n    } else {\n      console.log('Your browser cannot use fullscreen right now');\n    }\n  }\n}\n","/* globals IMAGINARY */\nimport MenuMode from './game-mode-menu';\n\nconst BOT_TYPE_ORDER = ['none', 'random', 'gradient-descent', 'tangent-intersection'];\n\nexport default class BotTypeMode extends MenuMode {\n  getMenuTitle() {\n    return IMAGINARY.i18n.t('choose-bot-type');\n  }\n\n  getMenuItems() {\n    const botTypeStrings = IMAGINARY.i18n.t('bot-types');\n    return BOT_TYPE_ORDER.map(key => botTypeStrings[key]);\n  }\n\n  getDefaultItemIndex() {\n    const index = BOT_TYPE_ORDER.indexOf(this.game.botType);\n    return index !== -1 ? index : 0;\n  }\n\n  processSelection(selectedIndex) {\n    super.processSelection(selectedIndex);\n    this.game.botType = BOT_TYPE_ORDER[selectedIndex];\n  }\n}\n","/* globals IMAGINARY */\nimport GameMode from './game-mode';\n\nexport default class MenuMode extends GameMode {\n\n  constructor(game) {\n    super(game);\n  }\n\n  async handleEnterMode() {\n    const $overlay = $(this.game.overlay);\n\n    const menuItems = this.getMenuItems();\n\n    this.selectedIndex = this.getDefaultItemIndex();\n    $('<div class=\"text text-center menu-title\" />')\n      .text(this.getMenuTitle())\n      .appendTo($overlay);\n    const $selector = $('<div class=\"menu-selector\" />')\n      .addClass(`menu-selector-with-${menuItems.length}`)\n      .appendTo($overlay);\n    for (let i = 0; i < menuItems.length; ++i) {\n      $('<div class=\"item\" />')\n        .addClass(`item-${i}`)\n        .toggleClass('selected', this.selectedIndex === i)\n        .text(menuItems[i])\n        .appendTo($selector);\n    }\n    this.$selectorItems = $selector.children();\n  }\n\n  async handleExitMode() {\n    // Cleanup timers, etc. created on handleEnterMode\n  }\n\n  handleInputs(inputs, lastInputs, delta, ts) {\n    const clampIndex = i => Math.max(0, Math.min(i, this.$selectorItems.length - 1));\n\n    for (let i = 0; i < inputs.length; ++i) {\n      const [input, lastInput] = [inputs[i], lastInputs[i]];\n\n      if (input.direction !== 0 && input.direction * lastInput.direction <= 0) {\n        this.$selectorItems.eq(this.selectedIndex).removeClass('selected');\n        this.selectedIndex = clampIndex(this.selectedIndex + input.direction);\n        this.$selectorItems.eq(this.selectedIndex).addClass('selected');\n      }\n\n      if (input.action && !lastInput.action) {\n        this.processSelection(this.selectedIndex);\n        this.triggerEvent('done');\n        break;\n      }\n    }\n  }\n\n  /**\n   * Get the menu title.\n   *\n   * Overwrite this method in a subclass to provide the menu title.\n   * I will be called whenever this game mode is entered to also reflect possible language changes.\n   *\n   * @returns {string}\n   */\n  getMenuTitle() {\n    return \"Menu\"\n  }\n\n  /**\n   * Get the menu items.\n   *\n   * Overwrite this method in a subclass to provide the list of menu items.\n   * I will be called whenever this game mode is entered to also reflect possible language changes.\n   *\n   *  @returns {string[]}\n   */\n  getMenuItems() {\n    return ['One', 'Two'];\n  }\n\n  /**\n   * Get the index of the default menu item. This can be used to preselect menu items in subclasses.\n   *\n   * @returns {number}\n   */\n  getDefaultItemIndex() {\n    return 0;\n  }\n\n  processSelection(itemIndex) {\n  }\n}\n","/* globals IMAGINARY */\nimport MenuMode from './game-mode-menu';\n\nexport default class PlayerNumberMode extends MenuMode {\n  constructor(game) {\n    super(game);\n    this._menuItems = Array.from(\n      { length: this.game.config.maxPlayers },\n      (_, id) => String(id + 1));\n  }\n\n  getMenuTitle() {\n    return IMAGINARY.i18n.t('choose-num-players');\n  }\n\n  getMenuItems() {\n    return this._menuItems;\n  }\n\n  getDefaultItemIndex() {\n    return this.game.numPlayers - 1;\n  }\n\n  processSelection(selectedIndex) {\n    super.processSelection(selectedIndex);\n    this.game.numPlayers = selectedIndex + 1;\n  }\n}\n","import EventEmitter from 'events';\nimport { createPopper } from '@popperjs/core';\n\nimport GameMode from './game-mode';\nimport terrain from './terrain';\nimport * as waves from './waves';\nimport BotStrategyBase from './bot-strategies/base';\nimport BotStrategyRandom from './bot-strategies/random';\nimport BotStrategyTangentIntersection from './bot-strategies/tangent-intersection';\nimport BotStrategyGradientDescent from './bot-strategies/gradient-descent';\n\nconst WATER_HEIGHT_SCALE = 10;\nconst NUM_WATER_POINTS = 300;\nconst WATER_DISTANCE = 200;\nconst WATER_LOOP_DURATION = 20 * 1000;\n\nconst BOAT_DRAFT = 18;\n\nconst TERRAIN_HEIGHT_SCALE = 300;\nconst NUM_TERRAIN_POINTS = 300;\nconst MAX_TERRAIN_EXTREMA = 20;\nconst TERRAIN_MARGIN_WIDTH = 0.1;\nconst TERRAIN_DISTANCE = 300;\n\n// How far should the boat move on user input per ms\nconst SPEED_FACTOR = 0.2 / 1000.0;\n\nconst PROBE_SIZE = 10;\nconst PROBE_DISTANCE_AT_REST = 0.3;\nconst PROBE_MIN_DURATION = 500;\nconst PROBE_DELAY = 500;\n\nconst TANGENT_LENGTH = 0.02;\nconst TANGENT_MIN_OPACITY = 0.25;\nconst TANGENT_OPACITY_FADEOUT_FACTOR = 0.9;\nconst TANGENT_OPACITY_FADEOUT_DURATION = 500;\n\nconst TREASURE_SIZE = 0.03;\n\nconst UNCOVER_DURATION = 2000;\nconst ENDING_SEQUENCE_FST_DELAY = 0;\nconst ENDING_SEQUENCE_SND_DELAY = 1000;\nconst ENDING_SEQUENCE_RESTART_DELAY = 1000;\n\nexport default class PlayMode extends GameMode {\n\n  constructor(game) {\n    super(game);\n    const wavesPoints = Array(NUM_WATER_POINTS).fill(null);\n    this.wavesPoints = t => waves.points(wavesPoints, t, game.draw.width(), WATER_HEIGHT_SCALE);\n    this.bot = null;\n  }\n\n  async preLoadAssets() {\n    this.shipSymbol = await this.game.loadSVGSymbol('assets/img/ship.svg');\n    this.shipSymbol.attr({ overflow: 'visible' });\n    this.treasureClosedSymbol = await this.game.loadSVGSymbol('assets/img/treasure-closed.svg');\n    this.treasureClosedSymbol.attr({ overflow: 'visible' });\n    this.treasureOpenedSymbol = await this.game.loadSVGSymbol('assets/img/treasure-opened.svg');\n    this.treasureOpenedSymbol.attr({ overflow: 'visible' });\n  }\n\n  async handleEnterMode() {\n    const { draw, config, numPlayers, botType } = this.game;\n\n    this.isGameOver = false;\n    this.discardInputs = false;\n\n    this.remainingTime = config.maxTime * 1000;\n\n    this.tangents = [];\n\n    this.$overlay = $('<div class=\"play\" />').appendTo(this.game.overlay);\n    const $gameStats = $('<div class=\"game-stats\"/>').appendTo(this.$overlay);\n\n    const $remainingTimeContainer = $('<div class=\"remaining-time\"/>')\n      .text(IMAGINARY.i18n.t('remaining-time'))\n      .appendTo($gameStats);\n    if (config.maxTime === Number.POSITIVE_INFINITY)\n      $remainingTimeContainer.hide()\n\n    const $remainingProbesContainer = $('<div class=\"remaining-probes\"/>')\n      .text(IMAGINARY.i18n.t('remaining-probes'))\n      .appendTo($gameStats);\n    this.$remainingTime = $('<span class=\"counter\"/>')\n      .appendTo($remainingTimeContainer);\n    this.$remainingProbes = $('<span />').appendTo($remainingProbesContainer);\n    if (config.maxProbes === Number.POSITIVE_INFINITY)\n      $remainingProbesContainer.hide()\n\n    this.$endingSequenceContainer = $('<div />').appendTo(this.$overlay);\n\n    const modeGroup = draw.group()\n      .addClass('play')\n      .addClass('draw')\n      .translate(0, WATER_DISTANCE);\n\n    const createPlayer = (playerIndex, numPlayers, cssClass) => {\n      const x = (playerIndex + 1) / (numPlayers + 1);\n      const group = modeGroup.group();\n      group\n        .addClass(cssClass)\n        .transform({ translateX: x * draw.width() });\n\n      const boat = group.use(this.shipSymbol)\n        .center(0, BOAT_DRAFT);\n\n      const probeParent = group.group();\n      const probe = probeParent.group();\n      const probeY = TERRAIN_DISTANCE * PROBE_DISTANCE_AT_REST;\n      const probeRope = probe.line(0, BOAT_DRAFT, 0, probeY - PROBE_SIZE / 2);\n      const probeCircle = probe.circle(PROBE_SIZE).center(0, probeY);\n\n      const doProbe = function (terrainHeight) {\n        this.probing = true;\n        this.remainingProbes = Math.max(0, this.remainingProbes - 1);\n        const probeHeight = TERRAIN_DISTANCE + TERRAIN_HEIGHT_SCALE * terrainHeight;\n        const probeDuration = probeHeight * (PROBE_MIN_DURATION / TERRAIN_DISTANCE);\n\n        const probeDown = probeCircle.animate(probeDuration, 0, 'now')\n          .cy(probeHeight);\n        const probeRopeDown = probeRope.animate(probeDuration, 0, 'now')\n          .plot(0, BOAT_DRAFT, 0, probeHeight - PROBE_SIZE / 2);\n\n        const yUp = this.remainingProbes > 0 ? TERRAIN_DISTANCE\n          * PROBE_DISTANCE_AT_REST : BOAT_DRAFT + PROBE_SIZE;\n        const probeUp = probeDown.animate(probeDuration, PROBE_DELAY)\n          .cy(yUp)\n          .after(() => this.probing = false);\n        const probeRopeUp = probeRopeDown.animate(probeDuration, PROBE_DELAY)\n          .plot(0, BOAT_DRAFT, 0, yUp - PROBE_SIZE / 2);\n\n        return {\n          down: new Promise(resolve => probeDown.after(resolve)),\n          up: new Promise(resolve => probeUp.after(resolve)),\n        }\n      }\n\n      // Add an element for displaying the number of remaining probes\n      const $remainingProbes = $(`<span class=\"counter ${cssClass}\"/>`)\n        .appendTo(this.$remainingProbes);\n\n      // Move boat in front of the probe\n      boat.front();\n\n      return {\n        id: playerIndex,\n        cssClass: cssClass,\n        group: group,\n        boat: boat,\n        probe: probe,\n        doProbe: doProbe,\n        x: x,\n        lastX: x,\n        flipX: false,\n        _probing: false,\n        _probeEventEmitter: new EventEmitter(),\n        set probing(p) {\n          const probeTurnedOff = this._probing && !p;\n          this._probing = p;\n          if (probeTurnedOff)\n            this._probeEventEmitter.emit(\"probe-off\");\n        },\n        get probing() {\n          return this._probing;\n        },\n        probingDone: async function () {\n          if (!this.probing)\n            return;\n          await new Promise(resolve => this._probeEventEmitter.addListener(\"probe-off\", resolve));\n        },\n        remainingProbes: config.maxProbes,\n        $remainingProbes: $remainingProbes,\n      };\n    };\n\n    // Create a boat for each player\n    const addBot = botType && botType !== 'none';\n    this.players = Array(numPlayers)\n      .fill(null)\n      .map((_, playerIndex) => createPlayer(\n        playerIndex,\n        numPlayers + (addBot ? 1 : 0),\n        `player-${playerIndex}`)\n      );\n    if (addBot) {\n      const botStrategyClass = (() => {\n        switch (botType) {\n          case 'random':\n            return BotStrategyRandom;\n          case 'newton':\n            return BotStrategyNewton;\n          case 'gradient-descent':\n            return BotStrategyGradientDescent;\n          case 'tangent-intersection':\n            return BotStrategyTangentIntersection;\n          default:\n            return BotStrategyBase;\n        }\n      })();\n      const botStrategy = new botStrategyClass(\n        TERRAIN_MARGIN_WIDTH,\n        1 - TERRAIN_MARGIN_WIDTH,\n        TREASURE_SIZE\n      );\n      const bot = {};\n      bot.type = botType;\n      bot.player = createPlayer(numPlayers, numPlayers + 1, 'player-bot');\n      const nextTarget = () => botStrategy.getNextProbeLocation(\n        this.tangents,\n        bot.player,\n        bot.player.id,\n        this.players,\n      );\n      bot.targetX = nextTarget();\n      bot.tangentListener = () => bot.targetX = nextTarget();\n      this.players.push(bot.player);\n      this.events.addListener('new-tangent', bot.tangentListener);\n      this.bot = bot;\n    } else {\n      this.bot = null;\n    }\n\n    this.water = modeGroup.group()\n      .polyline(this.wavesPoints(0))\n      .addClass('water');\n\n    this.groundGroup = modeGroup.group();\n    const newTerrainHeights = () => {\n      const terrainOptions = { marginWidth: TERRAIN_MARGIN_WIDTH };\n      return terrain(MAX_TERRAIN_EXTREMA, NUM_TERRAIN_POINTS, terrainOptions);\n    }\n    const terrainHeights = game.map ? game.map : newTerrainHeights();\n    const terrainPoints = terrainHeights.map((h, i) => [\n      draw.width() * (i / (terrainHeights.length - 1)),\n      TERRAIN_HEIGHT_SCALE * h,\n    ]).concat([\n      [2 * draw.width(), 0],\n      [2 * draw.width(), draw.height()],\n      [-draw.width(), draw.height()],\n      [-draw.width(), 0],\n    ]);\n    this.terrainHeights = terrainHeights;\n    this.treasureLocation = this.locateTreasure();\n    console.log(\"Map:\", terrainHeights);\n    console.log(\"Treasure location:\", this.treasureLocation);\n\n    const behindGroundGroup = this.groundGroup.group();\n    const treasure = behindGroundGroup.group()\n      .addClass('treasure')\n      .transform({\n        translateX: this.treasureLocation.x * draw.width(),\n        translateY: TERRAIN_DISTANCE + this.treasureLocation.y * TERRAIN_HEIGHT_SCALE,\n      });\n    this.treasureClosed = treasure.use(this.treasureClosedSymbol);\n    this.treasureOpened = treasure.use(this.treasureOpenedSymbol).hide();\n\n    this.ground = this.groundGroup.polygon(terrainPoints)\n      .fill('black')\n      .addClass('ground')\n      .translate(0, TERRAIN_DISTANCE);\n\n    const groundCover = this.groundGroup.group();\n    this.groundCoverLeft = groundCover.rect(draw.width(), draw.height())\n      .addClass('ground-cover')\n      .move(draw.width() * (this.treasureLocation.x - 1), -TERRAIN_HEIGHT_SCALE / 2);\n    this.groundCoverRight = groundCover.rect(draw.width(), draw.height())\n      .addClass('ground-cover')\n      .move(draw.width() * this.treasureLocation.x, -TERRAIN_HEIGHT_SCALE / 2);\n    if (config.showSeaFloor)\n      groundCover.hide();\n\n    this.groundGroup.back();\n\n    this.tangentGroup = modeGroup.group()\n      .translate(0, TERRAIN_DISTANCE);\n  }\n\n  async handleExitMode() {\n    // Cleanup timers, etc. created on handleEnterMode\n    if (this.bot !== null)\n      this.events.removeListener('new-tangent', this.bot.tangentListener);\n  }\n\n  static buildBotInput(bot) {\n    const botInput = { direction: 0, action: false };\n    const botLastInput = { direction: 0, action: false };\n\n    const { player, targetX } = bot;\n    const { x, lastX } = player;\n    const [lower, upper] = x < lastX ? [x, lastX] : [lastX, x];\n\n    if (lower <= targetX && targetX <= upper) {\n      // It's time to probe!\n      player.lastX = x;\n      player.x = targetX;\n      botInput.action = true;\n    } else {\n      // Navigate towards targetX\n      botInput.direction = Math.sign(targetX - player.x);\n    }\n\n    return {\n      input: botInput,\n      lastInput: botLastInput,\n    }\n  }\n\n  handleInputs(inputs, lastInputs, delta, ts) {\n    // Move the boats or check if they're lowering the probe\n    const { draw, config, numPlayers } = this.game;\n\n    // Some game states do not allow user input\n    if (this.discardInputs)\n      return;\n\n    // Leave game mode when the game is over and a player pressed the action button\n    if (this.isGameOver) {\n      const action = inputs.findIndex((input, i) => actionPressed(input, lastInputs[i])) !== -1;\n      if (this.isGameOver && action) {\n        this.discardInputs = true;\n        this.triggerEvent('done');\n      }\n      return;\n    }\n\n    // Check whether the game is lost\n    this.remainingTime = Math.max(0, this.remainingTime - delta);\n    if (this.remainingTime === 0) {\n      console.log(\"Time is up - GAME OVER!\");\n      this.gameOver(async () => this.showLoseSequenceTimeIsUp());\n      return;\n    } else if (this.players.reduce((a, c) => a + c.remainingProbes, 0) === 0) {\n      const anyoneProbing = this.players.reduce((a, c) => a || c.probing, false);\n      if (!anyoneProbing) {\n        console.log(\"No probes left - GAME OVER!\");\n        this.gameOver(async () => this.showLoseSequenceNoProbesLeft());\n        return;\n      }\n    }\n\n    // Discard inputs that don't belong to an active player\n    inputs = inputs.slice(0, numPlayers);\n    lastInputs = lastInputs.slice(0, numPlayers);\n\n    // If there is a bot, create fake inputs for it\n    if (this.bot !== null) {\n      const { input, lastInput } = PlayMode.buildBotInput(this.bot);\n      inputs.push(input);\n      lastInputs.push(lastInput);\n    }\n\n    // Regular move & probe logic\n    inputs\n      .forEach((input, playerIndex) => {\n        const lastInput = lastInputs[playerIndex];\n        const action = actionPressed(input, lastInput);\n\n        const player = this.players[playerIndex];\n        if (!player.probing && !this.isGameOver) {\n          player.lastX = player.x;\n          player.x += SPEED_FACTOR * (delta * input.direction);\n          player.x = Math.min(Math.max(TERRAIN_MARGIN_WIDTH, player.x),\n            1.0 - TERRAIN_MARGIN_WIDTH);\n          // TODO: Limit bot position to bot.targetX\n          player.flipX = input.direction === 0 ? player.flipX : input.direction === -1;\n          if (action && player.remainingProbes > 0) {\n            // Switch to probe mode\n            // Lower the probe, wait and raise it again\n            const terrainHeight = this.terrainHeight(player.x);\n            const { down, up } = player.doProbe(terrainHeight);\n            down.then(() => this.addTangent(player));\n            const treasureFound = Math.abs(player.x - this.treasureLocation.x) <= TREASURE_SIZE\n              / 2;\n            down.then(async () => {\n              if (treasureFound && !this.isGameOver) {\n                console.log(\"Treasure found - GAME OVER!\");\n                await this.gameOver(async () => this.showWinSequence(player));\n              }\n            });\n\n            console.log(`Player ${playerIndex} is probing at:`,\n              { x: player.x, y: terrainHeight });\n          }\n        }\n      });\n  }\n\n  draw(delta, ts) {\n    const { draw, numPlayers } = this.game;\n    // Move boats\n    // Draw bottom\n    // etc...\n\n    this.water.plot(this.wavesPoints(ts / WATER_LOOP_DURATION));\n\n    const pad = (num, places, char) => String(num).padStart(places, char);\n    const padRemainingProbes = num => pad(num, String(this.game.config.maxProbes).length, ' ');\n    const padRemainingTime = num => pad(num, String(this.game.config.maxTime).length, ' ');\n\n    this.players.forEach((player, playerIndex) => {\n      const x = player.x;\n      const y = WATER_HEIGHT_SCALE * waves.height(x, ts / WATER_LOOP_DURATION);\n      const slope = WATER_HEIGHT_SCALE * waves.slope(x, ts / WATER_LOOP_DURATION);\n      const angle = 0.25 * 180 * Math.atan2(slope, draw.width()) / Math.PI;\n      const boatTransform = {\n        rotate: angle,\n      };\n      if (player.flipX)\n        boatTransform.flip = 'x';\n      player.boat.transform(boatTransform);\n      player.group.transform({\n        translateX: x * draw.width(),\n        translateY: y\n      });\n\n      player.$remainingProbes.text(padRemainingProbes(player.remainingProbes));\n      if (player.remainingProbes === 0)\n        player.$remainingProbes.addClass(\"blinking\");\n    });\n\n    this.$remainingTime.text(padRemainingTime(Math.ceil(this.remainingTime / 1000.0)));\n    if (this.remainingTime === 0)\n      this.$remainingTime.addClass(\"blinking\");\n  }\n\n  terrainHeight(x) {\n    return this.terrainHeightExt(x).value;\n  }\n\n  terrainHeightExt(x) {\n    const xInArray = (this.terrainHeights.length - 1) * x;\n    const tmpIndex = Math.floor(xInArray);\n    const i0 = tmpIndex === this.terrainHeights.length - 1 ? tmpIndex - 1 : tmpIndex;\n    const i1 = i0 + 1;\n    const h0 = this.terrainHeights[i0];\n    const h1 = this.terrainHeights[i1];\n    const t = xInArray - i0;\n    return {\n      x: x,\n      value: h0 + t * (h1 - h0),\n      slope: (h1 - h0) * (this.terrainHeights.length - 1),\n    };\n  }\n\n  locateTreasure() {\n    const argmax = array => [].reduce.call(array, (m, c, i, arr) => c > arr[m] ? i : m, 0);\n    const treasureIndex = argmax(this.terrainHeights);\n    return {\n      x: treasureIndex / (this.terrainHeights.length - 1),\n      y: this.terrainHeights[treasureIndex],\n    };\n  }\n\n  addTangent(player) {\n    // Reduce the opacity of previously added tangents of this player\n    const offsetMult = (v, factor, offset) => offset + (v - offset) * factor;\n    this.tangentGroup.find(player.cssClass)\n      .each(function () {\n        const o = offsetMult(this.opacity(), TANGENT_OPACITY_FADEOUT_FACTOR, TANGENT_MIN_OPACITY);\n        this.animate(TANGENT_OPACITY_FADEOUT_DURATION).opacity(o);\n      });\n\n    // Add the new tangent\n    const { draw } = this.game;\n    const width = draw.width();\n    const tangent = this.terrainHeightExt(player.x);\n    const { x, value, slope } = tangent;\n    const angle = 180 * Math.atan2(slope * TERRAIN_HEIGHT_SCALE, width) / Math.PI;\n    this.tangentGroup.line(-width * TANGENT_LENGTH / 2, 0, width * TANGENT_LENGTH / 2, 0,)\n      .addClass(player.cssClass)\n      .transform({\n        translateX: width * x,\n        translateY: TERRAIN_HEIGHT_SCALE * value,\n        rotate: angle,\n      });\n\n    this.tangents.push(tangent);\n    this.tangents.sort((a, b) => a.x - b.x);\n    this.events.emit('new-tangent', tangent, this.tangents.indexOf(tangent), this.tangents);\n  }\n\n  async gameOver(endingSequenceCallback) {\n    // The game is now over, so a player that lowered the probe later can not win anymore.\n    this.isGameOver = true;\n\n    // Disable all inputs until the ending sequence is over.\n    this.discardInputs = true;\n    const uncoverGroundPromise = this.uncoverGround();\n    await Promise.all(this.players.map(p => p.probingDone()));\n    await endingSequenceCallback();\n    this.discardInputs = false;\n    await uncoverGroundPromise;\n  }\n\n  async uncoverGround(duration = UNCOVER_DURATION) {\n    const { draw } = this.game;\n    if (duration === 0) {\n      // uncover immediately\n      this.groundCoverLeft.dx(-draw.width());\n      this.groundCoverRight.dx(draw.width());\n    } else {\n      // uncover using an animation\n      // (using an animation with duration 0 still takes > 0s for unknown reasons)\n      const circularEaseIn = pos => -(Math.sqrt(1 - (pos * pos)) - 1);\n      const animateDx = (e, dx) => e.animate(duration).dx(dx);\n      const animateDxPromise = (e, dx) => new Promise(resolve => animateDx(e, dx).after(resolve));\n      return Promise.all([\n        animateDxPromise(this.groundCoverLeft, -draw.width()),\n        animateDxPromise(this.groundCoverRight, draw.width())\n      ]);\n    }\n  }\n\n  async showWinSequence(winner) {\n    const winAnnouncement = IMAGINARY.i18n.t('win-announcement-begin')\n      + (winner.id + 1)\n      + IMAGINARY.i18n.t('win-announcement-end');\n    const randomElement = arr => arr[Math.floor(Math.random() * (arr.length - 1))];\n    const treasure = randomElement(IMAGINARY.i18n.t('treasures'));\n\n    const openTreaureChest = () => {\n      this.treasureOpened.show();\n      this.treasureClosed.hide();\n    }\n\n    await this.showGameOverSequence(\n      winAnnouncement,\n      treasure,\n      openTreaureChest,\n      [winner.cssClass]\n    );\n  }\n\n  async showLoseSequenceTimeIsUp() {\n    await this.showGameOverSequence(\n      IMAGINARY.i18n.t('time-is-up'),\n      IMAGINARY.i18n.t('game-over'),\n    );\n  }\n\n  async showLoseSequenceNoProbesLeft() {\n    await this.showGameOverSequence(\n      IMAGINARY.i18n.t('no-probes-left'),\n      IMAGINARY.i18n.t('game-over'),\n    );\n  }\n\n  async showGameOverSequence(firstMessage,\n                             secondMessage,\n                             secondMessageCallback = Function.prototype,\n                             cssClasses = []) {\n    const { draw } = this.game;\n\n    const delay = ms => new Promise(resolve => setTimeout(resolve, ms));\n\n    const restartMessage = IMAGINARY.i18n.t('press-to-restart');\n\n    const $firstMessageDiv = $('<div>').text(firstMessage);\n    const $secondMessageDiv = $('<div>').text(secondMessage)\n      .css('visibility', 'hidden');\n    const $restartDiv = $('<div class=\"blinking\">').text(restartMessage)\n      .css('visibility', 'hidden');\n\n    const $endingSequenceDiv = $('<div class=\"ending-sequences-text\" />')\n      .addClass(cssClasses)\n      .append([$firstMessageDiv, $secondMessageDiv, $('<br>'), $restartDiv]);\n\n    const left = 100 * this.treasureLocation.x;\n    const top = 100 * (WATER_DISTANCE + TERRAIN_DISTANCE) / draw.height();\n    const $announcementAnchor = $('<div class=\"ending-sequences-text-anchor\" />')\n      .css({\n        left: `${left}%`,\n        top: `${top}%`,\n        width: \"0px\",\n        height: \"0px\",\n      });\n\n    await delay(ENDING_SEQUENCE_FST_DELAY);\n    this.$endingSequenceContainer.empty().append([$announcementAnchor, $endingSequenceDiv]);\n\n    // popper.js places the ending sequence text in a popup-like fashion above the announcement\n    // anchor and makes sure that is does not move off the screen if the anchor is to close to a\n    // screen edge.\n    createPopper(\n      $announcementAnchor.get(0),\n      $endingSequenceDiv.get(0),\n      {\n        placement: 'top',\n      });\n\n    await delay(ENDING_SEQUENCE_SND_DELAY);\n    $secondMessageDiv.css(\"visibility\", \"visible\");\n    secondMessageCallback();\n\n    await delay(ENDING_SEQUENCE_RESTART_DELAY);\n    $restartDiv.css(\"visibility\", \"visible\");\n  }\n}\n\nfunction actionPressed(input, lastInput) {\n  return input.action && !lastInput.action;\n}\n","/* globals IMAGINARY */\nimport GameMode from './game-mode';\nimport WavyAnimation from './wavy-animation';\n\nexport default class TitleMode extends GameMode {\n  async preLoadAssets() {\n    this.logoSprite = await this.game.loadSVGSymbol('assets/img/descent-logo.svg');\n    this.poly = this.logoSprite.findOne('#descent');\n  }\n\n  async handleEnterMode() {\n    const { draw } = this.game;\n    const pressToStart = document.createElement('div');\n    pressToStart.classList.add('title-press-to-start');\n    pressToStart.textContent = IMAGINARY.i18n.t('press-to-start');\n    this.game.overlay.append(pressToStart);\n\n    const colorBegin = '#00368a';\n    const colorEnd = '#34c6ff';\n\n    const gradientLogo = draw.use(this.logoSprite)\n      .size(1200, 400)\n      .stroke({ color: colorBegin, width: 2 })\n      .fill('transparent')\n      .center(1920 / 2, 1080 / 2.5);\n    const gradientText = this.logoSprite.findOne('#gradient')\n      .stroke('none')\n      .fill(colorEnd)\n      .opacity(0);\n\n    gradientText.animate({ duration: 7000 }).opacity(1);\n    gradientLogo.animate({ duration: 5000 }).stroke({ color: colorEnd });\n    this.wavyStep = WavyAnimation(this.logoSprite, { duration: 3500 });\n\n    this.animCounter = 0;\n  }\n\n  async handleExitMode() {\n    // Cleanup timers, etc. created on handleEnterMode\n\n    // The animation must be set to its final state such that it can restart properly\n    // when this mode is re-entered.\n    this.wavyStep(Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY);\n  }\n\n  handleInputs(inputs, lastInputs, delta, ts0) {\n    // If any button was pressed\n    if (inputs\n      .find((ctrl, i) => ctrl.action && !lastInputs[i].action)) {\n      this.triggerEvent('done');\n    }\n  }\n\n  draw(delta, ts) {\n\n    this.wavyStep(delta, ts);\n  }\n}\n","/* eslint-disable class-methods-use-this,no-unused-vars,no-empty-function */\nimport EventEmitter from 'events';\n\n/**\n * Abstract class for GameMode\n *\n * A GameMode does the actual handling of the input and drawing\n */\nexport default class GameMode {\n  /**\n   * Constructor\n   *\n   * @param {GradientDescentGame} game\n   */\n  constructor(game) {\n    // noinspection JSUnusedGlobalSymbols\n    this.game = game;\n    this.events = new EventEmitter();\n  }\n\n  /**\n   * Preload any external assets that will be needed during the game\n   *\n   * This method runs during game initialization.\n   * @return {Promise<void>}\n   */\n  async preLoadAssets() {\n\n  }\n\n  /**\n   * Called by the game when the mode is entered.\n   *\n   * Can be used to add DOM elements, event handlers and initialize\n   * internal state. Anything done here must be cleaned up in\n   * handleExitMode.\n   */\n  async handleEnterMode() {\n\n  }\n\n  /**\n   * Called by the game when the mode is going to be exited\n   *\n   * Should be used to remove DOM elements, event handlers\n   * or anything else that was created on handleEnterMode.\n   */\n  async handleExitMode() {\n\n  }\n\n  /**\n   * Called once per frame so the mode can handle controller input\n   *\n   * Current input state and the previous one are passed\n   * to help with state change detection.\n   *\n   * Both are arrays with N objects with shape:\n   * - direction {integer}: Either -1, 0 or 1.\n   * - action {bool}\n   *\n   * @param {[{direction: Number, action: Boolean}]} inputs\n   * @param {[{direction: Number, action: Boolean}]} lastInputs\n   * @param {Number} delta\n   *  Amount of milliseconds since the last call (capped to a maximum)\n   * @param {Number} ts\n   *  Timestamp received via requestAnimationFrame\n\n   *\n   */\n  handleInputs(inputs, lastInputs, delta, ts) {\n\n  }\n\n  /**\n   * Called once per frame so the mode can draw based on the game's state\n   *\n   * @param {Number} delta\n   *  Amount of milliseconds since the last call (capped to a maximum)\n   * @param {Number} ts\n   *  Timestamp received via requestAnimationFrame\n   */\n  draw(delta, ts) {\n\n  }\n\n  /**\n   * Triggers an event for the game to handle\n   *\n   * Events can be used to transition to another mode, etc.\n   *\n   * @param {string} name\n   */\n  triggerEvent(name) {\n    this.events.emit(name);\n  }\n}\n","/* globals SVG */\nimport \"@wessberg/pointer-events\";\n\nimport PlayMode from './game-mode-play';\nimport TitleMode from './game-mode-title';\nimport PlayerNumberMode from './game-mode-numplayers';\nimport GamepadControls from \"./controls/gamepad\";\nimport ScreenControls from './controls/screen';\nimport KeyboardControls from \"./controls/keyboard\";\nimport FullScreenToggle from './full-screen-toggle';\nimport BotTypeMode from './game-mode-bottype';\n\n/**\n * The main application\n *\n * This class creates the main UI elements and runs the\n * main game loop (read input, draw).\n *\n * The game can be in one of various modes (see GameMode)\n * which decides how to draw and process input.\n */\nexport default class GradientDescentGame {\n  constructor(container, config) {\n    this.container = container;\n    this.config = config;\n\n    this.inputs = this.createInputs();\n    this.inputsLast = this.createInputs();\n\n    this.gameLoop = null;\n    this.isPaused = false;\n    this.modes = {};\n    this.currentMode = null;\n\n    this.controls = {};\n    this.debugControlsPane = null;\n\n    this.botType = this.config.botType;\n    this.numPlayers = this.config.maxPlayers;\n\n    this.map = config.map;\n  }\n\n  /**\n   * Initializes the app and downloads any external assets\n   *\n   * @return {Promise<void>}\n   */\n  async init() {\n    const [width, height] = [1920, 864];\n\n    const minAspectRatioContainer = document.createElement('div')\n    minAspectRatioContainer.classList.add('min-aspect-ratio');\n    this.container.append(minAspectRatioContainer);\n\n    const viewContainer = document.createElement('div');\n    viewContainer.classList.add('game-view');\n    minAspectRatioContainer.append(viewContainer);\n\n    this.svgDoc = SVG().addTo(viewContainer);\n    this.svgDoc\n      .viewbox(0, 0, width, height)\n      .attr('preserveAspectRatio', 'xMinYMin meet');\n\n    this.draw = this.svgDoc.nested().size(width, height);\n\n    this.overlay = document.createElement('div');\n    this.overlay.classList.add('overlay');\n    minAspectRatioContainer.append(this.overlay);\n\n    if (this.config.useScreenControls) {\n      this.controls.screen = new ScreenControls(this.config.maxPlayers);\n      minAspectRatioContainer.appendChild(this.controls.screen.element);\n    }\n    if (this.config.useGamepads) {\n      this.controls.gamepad = new GamepadControls(this.config.maxPlayers);\n    }\n\n    if (this.config.fullScreenButton) {\n      this.fullScreenToggle = new FullScreenToggle();\n      minAspectRatioContainer.appendChild(this.fullScreenToggle.element);\n    }\n\n    if (this.config.useKeyboardControls) {\n      this.controls.keyboard = new KeyboardControls(this.config.maxPlayers);\n    }\n\n    if (this.config.debugControls) {\n      this.debugControlsPane = document.createElement('div');\n      this.debugControlsPane.classList.add('debug-pane');\n      this.debugControlsPane.classList.add('debug-pane-controls');\n      minAspectRatioContainer.appendChild(this.debugControlsPane);\n    }\n\n    await this.registerMode('title', new TitleMode(this));\n    await this.registerMode('bottype', new BotTypeMode(this));\n    await this.registerMode('numplayers', new PlayerNumberMode(this));\n    await this.registerMode('play', new PlayMode(this));\n\n    if (this.config.continuousGame) {\n      this.transition('play', 'done', 'play');\n      await this.setMode('play');\n    } else {\n      const showBotType = this.config.botType === null;\n      const showNumPlayers = this.config.maxPlayers > 1;\n\n      const afterNumPlayers = showBotType ? 'bottype' : 'play';\n      const afterTitle = showNumPlayers ? 'numplayers' : afterNumPlayers;\n\n      this.transition('title', 'done', afterTitle);\n      this.transition('numplayers', 'done', afterNumPlayers);\n      this.transition('bottype', 'done', 'play');\n      this.transition('play', 'done', 'title');\n      await this.setMode('title');\n    }\n  }\n\n  /**\n   * Loads an external SVG file into a symbol within the main svg element\n   *\n   * @param {string} uri\n   * @param {boolean} clearStyles\n   *  If true removes the style elements from the file\n   * @return {Promise<SVG.Symbol>}\n   */\n  async loadSVGSymbol(uri, clearStyles = true) {\n    const response = await fetch(uri);\n    if (response.status < 200 || response.status >= 300) {\n      throw new Error(`Server returned status ${response.status} (${response.statusText}) loading ${uri}.`);\n    }\n    const newSymbol = this.svgDoc.symbol().svg(await response.text());\n    if (clearStyles) {\n      newSymbol.find('style').forEach(s => s.remove());\n    }\n\n    return newSymbol;\n  }\n\n  /**\n   * Initializes the input state\n   *\n   * @private\n   */\n  initInputs() {\n    this.inputs = this.createInputs();\n  }\n\n  createInputs() {\n    return Array(this.config.maxPlayers)\n      .fill(null)\n      .map(() => ({ direction: 0, action: false }));\n  }\n\n  /**\n   * Reads the input state from all enabled controller types\n   *\n   * Loads the new input state in this.input and the previous\n   * state in this.inputLast.\n   *\n   * @private\n   */\n  readInputs() {\n    this.inputsLast = this.inputs;\n    const states = Object.values(this.controls).map(c => c.getStates());\n    const inputReducer = (accInput, curState) => ({\n      direction: curState.right ? 1 : (curState.left ? -1 : accInput.direction),\n      action: curState.action || accInput.action,\n    });\n    this.inputs = this.createInputs().map(\n      (input, i) => states.map(s => s[i]).reduce(inputReducer, input)\n    );\n\n    if (this.debugControlsPane) {\n      this.debugControlsPane.textContent = this.inputs.map((ctrl, i) => (\n        `C${i}: d=${ctrl.direction} a=${ctrl.action ? 'T' : 'F'}`\n      )).join('\\u00a0\\u00a0\\u00a0\\u00a0'); // four &nbsp;\n    }\n  }\n\n  /**\n   * Game loop\n   */\n  run() {\n    if (!this.gameLoop) {\n      let lastTs = 0;\n      let lag = 0;\n      const MAX_DELTA = 125;\n\n      this.gameLoop = (ts) => {\n        if (!this.isPaused) {\n          this.readInputs();\n          lag += Math.max(0, (ts - lag) - lastTs - MAX_DELTA);\n          ts -= lag;\n          const delta = ts - lastTs;\n          this.currentMode.handleInputs(this.inputs, this.inputsLast, delta, ts);\n          this.currentMode.draw(delta, ts);\n          lastTs = ts;\n\n          window.requestAnimationFrame(this.gameLoop);\n        }\n      };\n    }\n    window.requestAnimationFrame(this.gameLoop);\n  }\n\n  /**\n   * Pauses the game.\n   *\n   * While paused the main game loop not run.\n   */\n  pause() {\n    this.isPaused = true;\n  }\n\n  /**\n   * Resumes the game.\n   *\n   * Enables the main game loop.\n   */\n  resume() {\n    if (this.isPaused) {\n      this.isPaused = false;\n      this.run();\n    }\n  }\n\n  /**\n   * Registers a game mode\n   *\n   * @private\n   * @param {string} id\n   *  A name that identifies the mode\n   * @param {GameMode} mode\n   *  A GameMode subclass\n   * @return {Promise<void>}\n   */\n  async registerMode(id, mode) {\n    this.modes[id] = mode;\n    await mode.preLoadAssets();\n  }\n\n  /**\n   * Changes the current game mode\n   *\n   * @param {string} modeID\n   *  Name of a previously registered mode\n   * @return {Promise<void>}\n   */\n  async setMode(modeID) {\n    this.pause();\n\n    if (this.currentMode) {\n      await this.currentMode.handleExitMode();\n    }\n    if (this.modes[modeID] === undefined) {\n      throw new Error(`Can't change to unknown mode ${modeID}`);\n    }\n    this.currentMode = this.modes[modeID];\n    this.draw.clear();\n    this.overlay.innerHTML = '';\n    await this.currentMode.handleEnterMode();\n\n    this.resume();\n  }\n\n  transition(modeId, event, nextModeId = null, callback = null) {\n    if (this.modes[modeId] === undefined) {\n      throw new Error(`Can't define transition from unknown game mode '${modeId}'`);\n    }\n    if (nextModeId && this.modes[nextModeId] === undefined) {\n      throw new Error(`Can't define transition to unknown game mode '${nextModeId}'`);\n    }\n    this.modes[modeId].events.on(event, () => {\n      if (this.currentMode !== this.modes[modeId]) {\n        throw new Error(`Mode ${modeId} triggered the event ${event} while not active. Something was not cleaned up?`);\n      }\n      if (nextModeId !== null) {\n        this.setMode(nextModeId);\n      }\n      if (callback && typeof callback === 'function') {\n        callback();\n      }\n    });\n  }\n\n  /**\n   * Set a custom sea floor map that will be used the next time the play mode is entered.\n   *\n   * @param map {number[]|null} An array containing distance values between 0 and 1. 0 is closest\n   *  to the water surface, 1 is farthest away from the water surface. The map will only be used if\n   *  it contains at least distance values (distances at the left and right edge). If {null} is\n   *  provided, no custom map will be used and a new map will be generated each time the game\n   *  restarts.\n   */\n  setMap(map) {\n    this.map = (!Array.isArray(map) || map.length < 2) ? null : map;\n  }\n\n  async showSeaFloor(animate = true) {\n    if (this.currentMode && typeof this.currentMode.uncoverGround === 'function') {\n      if (animate)\n        await this.currentMode.uncoverGround();\n      else\n        await this.currentMode.uncoverGround(0);\n    }\n  }\n}\n","/* globals IMAGINARY */\nimport GradientDescentGame from './game';\n\nconst defaultConfig = {\n  defaultLanguage: 'en',\n  useGamepads: true,\n  useScreenControls: true,\n  useKeyboardControls: true,\n  botType: null,\n  maxPlayers: 2,\n  maxTime: Number.POSITIVE_INFINITY,\n  maxProbes: Number.POSITIVE_INFINITY,\n  continuousGame: false,\n  showSeaFloor: false,\n  fullScreenButton: true,\n  debugControls: false,\n  map: null,\n};\n\n/**\n * Loads the config file from an external JSON file\n *\n * @param {String} uri\n * @return {Promise<any>}\n */\nasync function loadConfig(uri) {\n  const response = await fetch(uri);\n  if (response.status >= 200 && response.status < 300) {\n    try {\n      const config = await response.json();\n      // Take into account the INFINITY is a valid value for maxTime and maxProbes\n      const titleCase = s => (l => l.charAt(0).toUpperCase() + l.slice(1))(String(s).toLowerCase());\n      if (Number(titleCase(config.maxTime)) === Number.POSITIVE_INFINITY)\n        config.maxTime = Number.POSITIVE_INFINITY;\n      if (Number(titleCase(config.maxProbes)) === Number.POSITIVE_INFINITY)\n        config.maxProbes = Number.POSITIVE_INFINITY;\n      return config;\n    } catch (e) {\n      throw new Error(`Error parsing config file: ${e.message}`);\n    }\n  }\n  throw new Error(`Server returned status ${response.status} (${response.statusText}) loading config file.`);\n}\n\n/**\n * Return the URL of the user-supplied config file or {null} if it is not present.\n *\n * A custom config file URL can be provided via the 'config' query string variable. It must not\n * contain references to parent directories ('..').\n *\n * @returns {URL|null} User-supplied config or {null} if not supplied.\n * @throws {Error} If the user-supplied config contains a reference to parent directories.\n */\nfunction getCustomConfigUrl() {\n  const urlSearchParams = new URLSearchParams(window.location.search);\n  if (!urlSearchParams.has('config')) {\n    return null;\n  } else {\n    const customConfigName = urlSearchParams.get('config');\n    if (/\\.\\./.test(customConfigName)) {\n      throw new Error(`Custom config path ${customConfigName} must not contain references to parent directories and will be ignored.`);\n    } else {\n      return new URL(customConfigName, window.location.href);\n    }\n  }\n}\n\n/**\n * Load config files and start the program\n */\n(async function main() {\n  try {\n    const defaultConfigUrl = new URL('./config.json', window.location.href);\n    const costumConfigUrl = getCustomConfigUrl();\n    const configUrl = costumConfigUrl ? costumConfigUrl : defaultConfigUrl;\n    const config = Object.assign({}, defaultConfig, await loadConfig(configUrl.href));\n\n    await IMAGINARY.i18n.init({\n      queryStringVariable: 'lang',\n      translationsDirectory: 'tr',\n      defaultLanguage: config.defaultLanguage || 'en',\n    });\n    // eslint-disable-next-line no-unused-vars\n    const game = new GradientDescentGame(\n      document.querySelector('.main'),\n      config\n    );\n    window.game = game;\n    await game.init();\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.error(err);\n  }\n}());\n","function smoothChaikin(arr, num, open = true) {\n  if (num === 0)\n    return arr;\n\n  const l = arr.length;\n  const smooth = arr.map((c, i) => [\n    [0.75 * c[0] + 0.25 * arr[(i + 1) % l][0], 0.75 * c[1] + 0.25 * arr[(i + 1) % l][1]],\n    [0.25 * c[0] + 0.75 * arr[(i + 1) % l][0], 0.25 * c[1] + 0.75 * arr[(i + 1) % l][1]]\n  ]).flat();\n\n  if (open) {\n    smooth.length -= 1;\n    smooth[0] = arr[0];\n    smooth[smooth.length - 1] = arr[arr.length - 1];\n  }\n\n  return smoothChaikin(smooth, num - 1, open);\n}\n\nfunction subdivide(length, leftHeight, rightHeight) {\n  return {\n    index: Math.floor(length * Math.random()),\n    height: Math.max(leftHeight, rightHeight) * Math.random(),\n  };\n}\n\nfunction generateInnerTerrainHeights(heights, leftHeight, rightHeight) {\n  if (heights.length > 0) {\n    const { index, height } = subdivide(heights.length, leftHeight, rightHeight);\n    heights[index] = height;\n    generateInnerTerrainHeights(heights.subarray(0, index), leftHeight, height);\n    generateInnerTerrainHeights(heights.subarray(index + 1, heights.length),\n      height,\n      rightHeight);\n  }\n  return heights;\n}\n\nfunction generateTerrainPoints(numPoints, marginWidth = 0.1, marginHeight = 0.2, jitter = 0.25) {\n  const heights = new Float32Array(numPoints);\n  const marginIndices = [\n    Math.floor(marginWidth * numPoints),\n    Math.floor(marginWidth + (1 - 2 * marginWidth) * numPoints),\n  ];\n  const predefinedHeights = [\n    [0, Math.random() * marginHeight],\n    [marginIndices[0], marginHeight],\n    [marginIndices[0] + 1 + Math.floor(Math.random() * (marginIndices[1] - marginIndices[0])),\n     1.0],\n    [marginIndices[1], marginHeight],\n    [numPoints - 1, Math.random() * marginHeight],\n  ];\n\n  if (numPoints > 0) {\n    predefinedHeights.forEach(([i, h]) => heights[i] = h);\n    predefinedHeights.reduce(([i0, h0], [i1, h1]) => {\n      generateInnerTerrainHeights(heights.subarray(i0 + 1, i1), h0, h1);\n      return [i1, h1];\n    });\n  }\n\n  // restrict jitter range to prevent points from switching their order\n  jitter = Math.max(0.0, Math.min(jitter, 1.0));\n\n  return new Array(heights.length)\n    .fill(null)\n    .map((_, i) => [\n      (i + jitter * (Math.random() - 0.5)) / (heights.length - 1),\n      heights[i]\n    ]);\n}\n\nfunction convertPointsToHeights(points, numHeights) {\n  const left = points[0][0];\n  const right = points[points.length - 1][0];\n  const width = right - left;\n  const heights = Array(numHeights);\n  let j = 0;\n  for (let i = 0; i < heights.length - 1; ++i) {\n    while (i >= (numHeights - 1) * (points[j][0] - left) / width) {\n      ++j;\n    }\n    const t = (left + ((i / (numHeights - 1)) * width) - (points[j - 1][0]))\n      / (points[j][0] - points[j - 1][0]);\n    heights[i] = points[j - 1][1] + (points[j][1] - points[j - 1][1]) * t;\n  }\n  heights[heights.length - 1] = points[points.length - 1][1];\n  return heights;\n}\n\nfunction restrictPrecision(number, decimalPlaces) {\n  const factor = Math.pow(10, decimalPlaces);\n  return Math.round(number * factor) / factor;\n}\n\nconst defaultOptions = {\n  marginWidth: 0.1,\n  marginHeight: 0.1,\n  jitter: 0.25,\n  smoothing: 6,\n};\n\nexport default function terrain(numSamples, length, options = {}) {\n  options = Object.assign({}, defaultOptions, options);\n  const roughTerrainPoints = generateTerrainPoints(\n    numSamples,\n    options.marginWidth,\n    options.marginHeight,\n    options.jitter\n  );\n  const smoothTerrainPoints = smoothChaikin(roughTerrainPoints, options.smoothing);\n  const smoothTerrainHeights = convertPointsToHeights(smoothTerrainPoints, length);\n  return smoothTerrainHeights.map(n => restrictPrecision(n, 5));\n}\n","// The water surface consists of superimposed sin waves that are moving with respect to ts.\n// Fixing x, the frequency factors with respect to ts are [1,-1,2,3].\n// Since the lowest common denominator of these factors is 6 and the base frequency is 1 / (2 * PI),\n// the period of the water animation is 6 / (1 / (2 * PI)) = 12 * PI.\nconst PERIOD = 12 * Math.PI;\n\nexport function height(x, t) {\n  t = (t * PERIOD) % PERIOD;\n  return (\n    Math.sin(x * 100 + t)\n    + Math.sin(x * 50 - 1 * t)\n    + Math.sin(x * 30 + 2 * t)\n    + Math.sin(x * 10 - 3 * t)\n  ) / 4;\n}\n\nexport function slope(x, t) {\n  t = (t * PERIOD) % PERIOD;\n  return (\n    100 * Math.cos(100 * x + t)\n    + 50 * Math.cos(50 * x - t)\n    + 30 * Math.cos(30 * x + 2 * t)\n    + 10 * Math.cos(10 * x - 3 * t)\n  ) / 4;\n}\n\nexport function heights(arr, t, xScale = 1.0, yScale = 1.0) {\n  arr.forEach((_, i) => arr[i] = height(i / (arr.length - 1), t));\n  return arr;\n}\n\nexport function points(arr, t, xScale = 1.0, yScale = 1.0) {\n  arr.forEach((_, i) => {\n    const x = i / (arr.length - 1);\n    arr[i] = [xScale * x, yScale * height(x, t)];\n  });\n  return arr;\n}\n\n/*\n * Experimental: Create an SVG wave shape that animates via the <animate> tag.\n * This will probably doesn't work in a lot of browsers.\n * Problems: It's not possible to the the timestamp (progress) of the animation,\n * which would be needed to keep it in sync with other elements in the scene.\n */\nexport function animatedSVG(svgContainer, numPoints, numSteps, xScale, yScale, duration) {\n  const p = Array(numPoints).fill(null);\n  const keyframes = Array(numSteps)\n    .fill(null)\n    .map((_, i) => Array.from(points(p, i / (numSteps - 1), xScale, yScale)));\n  const waves = svgContainer.polyline(keyframes[0]);\n  const keyframesSvg = keyframes.map(p => waves.plot(p).attr('points'));\n  const keyframesString = keyframesSvg.join(';\\n').replace(/;[[:space:]]*;]/g, ';');\n  const animate = waves.element('animate');\n  animate.attr({\n    attributeName: 'points',\n    dur: `${duration}ms`,\n    repeatCount: 'indefinite',\n    values: keyframesString,\n  });\n\n  return waves;\n}\n\n","/**\n * Setup a wave-like animation for an svg.js shape made up of polygons.\n *\n * This animation works by applying a transformation on all points of\n * all polygons of the passed shape. The points will move on a sine wave\n * that is continuously phase shifting and whose amplitude decreases over time.\n *\n * Returns a stepping function that takes a delta in milliseconds which should\n * be called on the frame rendering function.\n *\n * Options:\n * - xAmplitude: Maximum distance that the x coordinates are shifted from their\n *   starting position.\n * - duration: Duration of the animation\n * - cycles: Number of cycles of phase shifting.\n *\n * @param {SVG.Container} shape\n *  The shape whose polygons will be animated\n * @param {Object} userOptions\n *  Options (see above)\n * @return {function(...[*]=)}\n *  Returns an animation callback that takes a delta.\n */\nexport default function WavyAnimation(shape, userOptions = {}) {\n  const defaultOptions = {\n    xAmplitude: 50,\n    duration: 5000,\n    cycles: 3,\n  };\n\n  const options = Object.assign({}, defaultOptions, userOptions);\n  const polygons = shape.find('polygon');\n  const originalPlots = polygons.map(p => p.plot());\n  const maxY = Math.max(...originalPlots.flat().map(([, y]) => y));\n\n  let counter = 0;\n\n  return (delta, ts) => {\n    if (counter > options.duration) {\n      return;\n    }\n    counter += delta;\n    const progress = Math.min(counter, options.duration) / options.duration;\n    polygons.forEach((p, i) => {\n      p.plot(originalPlots[i].map(([x, y]) => (\n        [\n          x + Math.sin((y / maxY + progress * options.cycles) * Math.PI * 2)\n          * options.xAmplitude * (1 - (progress ** 2)),\n          y,\n        ]\n      )));\n    });\n  };\n}\n","/**\n * @popperjs/core v2.4.4 - MIT License\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction getBoundingClientRect(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    width: rect.width,\n    height: rect.height,\n    top: rect.top,\n    right: rect.right,\n    bottom: rect.bottom,\n    left: rect.left,\n    x: rect.left,\n    y: rect.top\n  };\n}\n\n/*:: import type { Window } from '../types'; */\n\n/*:: declare function getWindow(node: Node | Window): Window; */\nfunction getWindow(node) {\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView : window;\n  }\n\n  return node;\n}\n\nfunction getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}\n\n/*:: declare function isElement(node: mixed): boolean %checks(node instanceof\n  Element); */\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n/*:: declare function isHTMLElement(node: mixed): boolean %checks(node instanceof\n  HTMLElement); */\n\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}\n\nfunction getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}\n\nfunction getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}\n\nfunction getDocumentElement(element) {\n  // $FlowFixMe: assume body is always available\n  return (isElement(element) ? element.ownerDocument : element.document).documentElement;\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}\n\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\n\nfunction isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}\n\n// Composite means it takes into account transforms as well as layout.\n\nfunction getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement);\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\n// Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\nfunction getLayoutRect(element) {\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: element.offsetWidth,\n    height: element.offsetHeight\n  };\n}\n\nfunction getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// $FlowFixMe: this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || // DOM Element detected\n    // $FlowFixMe: need a better way to handle this...\n    element.host || // ShadowRoot detected\n    // $FlowFixMe: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}\n\nfunction getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}\n\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the \nreference element's position.\n*/\n\nfunction listScrollParents(element, list) {\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = getNodeName(scrollParent) === 'body';\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}\n\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  var offsetParent = element.offsetParent;\n\n  if (offsetParent) {\n    var html = getDocumentElement(offsetParent);\n\n    if (getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static' && getComputedStyle(html).position !== 'static') {\n      return html;\n    }\n  }\n\n  return offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var currentNode = getParentNode(element);\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.willChange && css.willChange !== 'auto') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nfunction getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static') {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nvar top = 'top';\nvar bottom = 'bottom';\nvar right = 'right';\nvar left = 'left';\nvar auto = 'auto';\nvar basePlacements = [top, bottom, right, left];\nvar start = 'start';\nvar end = 'end';\nvar clippingParents = 'clippingParents';\nvar viewport = 'viewport';\nvar popper = 'popper';\nvar reference = 'reference';\nvar variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nvar placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nvar beforeRead = 'beforeRead';\nvar read = 'read';\nvar afterRead = 'afterRead'; // pure-logic modifiers\n\nvar beforeMain = 'beforeMain';\nvar main = 'main';\nvar afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nvar beforeWrite = 'beforeWrite';\nvar write = 'write';\nvar afterWrite = 'afterWrite';\nvar modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nfunction orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}\n\nfunction debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}\n\nfunction format(str) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return [].concat(args).reduce(function (p, c) {\n    return p.replace(/%s/, c);\n  }, str);\n}\n\nvar INVALID_MODIFIER_ERROR = 'Popper: modifier \"%s\" provided an invalid %s property, expected %s but got %s';\nvar MISSING_DEPENDENCY_ERROR = 'Popper: modifier \"%s\" requires \"%s\", but \"%s\" modifier is not available';\nvar VALID_PROPERTIES = ['name', 'enabled', 'phase', 'fn', 'effect', 'requires', 'options'];\nfunction validateModifiers(modifiers) {\n  modifiers.forEach(function (modifier) {\n    Object.keys(modifier).forEach(function (key) {\n      switch (key) {\n        case 'name':\n          if (typeof modifier.name !== 'string') {\n            console.error(format(INVALID_MODIFIER_ERROR, String(modifier.name), '\"name\"', '\"string\"', \"\\\"\" + String(modifier.name) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'enabled':\n          if (typeof modifier.enabled !== 'boolean') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"enabled\"', '\"boolean\"', \"\\\"\" + String(modifier.enabled) + \"\\\"\"));\n          }\n\n        case 'phase':\n          if (modifierPhases.indexOf(modifier.phase) < 0) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"phase\"', \"either \" + modifierPhases.join(', '), \"\\\"\" + String(modifier.phase) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'fn':\n          if (typeof modifier.fn !== 'function') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"fn\"', '\"function\"', \"\\\"\" + String(modifier.fn) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'effect':\n          if (typeof modifier.effect !== 'function') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"effect\"', '\"function\"', \"\\\"\" + String(modifier.fn) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'requires':\n          if (!Array.isArray(modifier.requires)) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"requires\"', '\"array\"', \"\\\"\" + String(modifier.requires) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'requiresIfExists':\n          if (!Array.isArray(modifier.requiresIfExists)) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"requiresIfExists\"', '\"array\"', \"\\\"\" + String(modifier.requiresIfExists) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'options':\n        case 'data':\n          break;\n\n        default:\n          console.error(\"PopperJS: an invalid property has been provided to the \\\"\" + modifier.name + \"\\\" modifier, valid properties are \" + VALID_PROPERTIES.map(function (s) {\n            return \"\\\"\" + s + \"\\\"\";\n          }).join(', ') + \"; but \\\"\" + key + \"\\\" was provided.\");\n      }\n\n      modifier.requires && modifier.requires.forEach(function (requirement) {\n        if (modifiers.find(function (mod) {\n          return mod.name === requirement;\n        }) == null) {\n          console.error(format(MISSING_DEPENDENCY_ERROR, String(modifier.name), requirement, requirement));\n        }\n      });\n    });\n  });\n}\n\nfunction uniqueBy(arr, fn) {\n  var identifiers = new Set();\n  return arr.filter(function (item) {\n    var identifier = fn(item);\n\n    if (!identifiers.has(identifier)) {\n      identifiers.add(identifier);\n      return true;\n    }\n  });\n}\n\nfunction getBasePlacement(placement) {\n  return placement.split('-')[0];\n}\n\nfunction mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign(Object.assign(Object.assign({}, existing), current), {}, {\n      options: Object.assign(Object.assign({}, existing.options), current.options),\n      data: Object.assign(Object.assign({}, existing.data), current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}\n\nfunction getViewportRect(element) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0; // NB: This isn't supported on iOS <= 12. If the keyboard is open, the popper\n  // can be obscured underneath it.\n  // Also, `html.clientHeight` adds the bottom bar height in Safari iOS, even\n  // if it isn't open, so if this isn't available, the popper will be detected\n  // to overflow the bottom of the screen too early.\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height; // Uses Layout Viewport (like Chrome; Safari does not currently)\n    // In Chrome, it returns a value very close to 0 (+/-) but contains rounding\n    // errors due to floating point numbers, so we need to check precision.\n    // Safari returns a number <= 0, usually < -1 when pinch-zoomed\n    // Feature detection fails in mobile emulation mode in Chrome.\n    // Math.abs(win.innerWidth / visualViewport.scale - visualViewport.width) <\n    // 0.001\n    // Fallback here: \"Not Safari\" userAgent\n\n    if (!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}\n\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nfunction getDocumentRect(element) {\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = element.ownerDocument.body;\n  var width = Math.max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = Math.max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += Math.max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}\n\nfunction contains(parent, child) {\n  // $FlowFixMe: hasOwnProperty doesn't seem to work in tests\n  var isShadow = Boolean(child.getRootNode && child.getRootNode().host); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (isShadow) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}\n\nfunction rectToClientRect(rect) {\n  return Object.assign(Object.assign({}, rect), {}, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}\n\nfunction getInnerBoundingClientRect(element) {\n  var rect = getBoundingClientRect(element);\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element)) : isHTMLElement(clippingParent) ? getInnerBoundingClientRect(clippingParent) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nfunction getClippingRect(element, boundary, rootBoundary) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent);\n    accRect.top = Math.max(rect.top, accRect.top);\n    accRect.right = Math.min(rect.right, accRect.right);\n    accRect.bottom = Math.min(rect.bottom, accRect.bottom);\n    accRect.left = Math.max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}\n\nfunction getVariation(placement) {\n  return placement.split('-')[1];\n}\n\nfunction getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}\n\nfunction computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = Math.floor(offsets[mainAxis]) - Math.floor(reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = Math.floor(offsets[mainAxis]) + Math.ceil(reference[len] / 2 - element[len] / 2);\n        break;\n    }\n  }\n\n  return offsets;\n}\n\nfunction getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}\n\nfunction mergePaddingObject(paddingObject) {\n  return Object.assign(Object.assign({}, getFreshSideObject()), paddingObject);\n}\n\nfunction expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}\n\nfunction detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var referenceElement = state.elements.reference;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary);\n  var referenceClientRect = getBoundingClientRect(referenceElement);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign(Object.assign({}, popperRect), popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}\n\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nfunction popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign(Object.assign({}, DEFAULT_OPTIONS), defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(options) {\n        cleanupModifierEffects();\n        state.options = Object.assign(Object.assign(Object.assign({}, defaultOptions), state.options), options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (process.env.NODE_ENV !== \"production\") {\n          var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) {\n            var name = _ref.name;\n            return name;\n          });\n          validateModifiers(modifiers);\n\n          if (getBasePlacement(state.options.placement) === auto) {\n            var flipModifier = state.orderedModifiers.find(function (_ref2) {\n              var name = _ref2.name;\n              return name === 'flip';\n            });\n\n            if (!flipModifier) {\n              console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', 'present and enabled to work.'].join(' '));\n            }\n          }\n\n          var _getComputedStyle = getComputedStyle(popper),\n              marginTop = _getComputedStyle.marginTop,\n              marginRight = _getComputedStyle.marginRight,\n              marginBottom = _getComputedStyle.marginBottom,\n              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can\n          // cause bugs with positioning, so we'll warn the consumer\n\n\n          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {\n            return parseFloat(margin);\n          })) {\n            console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));\n          }\n        }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update  it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(INVALID_ELEMENT_ERROR);\n          }\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (process.env.NODE_ENV !== \"production\") {\n            __debug_loops__ += 1;\n\n            if (__debug_loops__ > 100) {\n              console.error(INFINITE_LOOP_ERROR);\n              break;\n            }\n          }\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update  it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(INVALID_ELEMENT_ERROR);\n      }\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nvar eventListeners = {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nvar popperOffsets$1 = {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsets(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: Math.round(x * dpr) / dpr || 0,\n    y: Math.round(y * dpr) / dpr || 0\n  };\n}\n\nfunction mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive;\n\n  var _roundOffsets = roundOffsets(offsets),\n      x = _roundOffsets.x,\n      y = _roundOffsets.y;\n\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n    } // $FlowFixMe: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n    /*:: offsetParent = (offsetParent: Element); */\n\n\n    if (placement === top) {\n      sideY = bottom;\n      y -= offsetParent.clientHeight - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left) {\n      sideX = right;\n      x -= offsetParent.clientWidth - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign(Object.assign({}, commonStyles), {}, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) < 2 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign(Object.assign({}, commonStyles), {}, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref3) {\n  var state = _ref3.state,\n      options = _ref3.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || '';\n\n    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {\n      return transitionProperty.indexOf(property) >= 0;\n    })) {\n      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', '\\n\\n', 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\\n\\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));\n    }\n  }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign(Object.assign({}, state.styles.popper), mapToStyles(Object.assign(Object.assign({}, commonStyles), {}, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign(Object.assign({}, state.styles.arrow), mapToStyles(Object.assign(Object.assign({}, commonStyles), {}, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false\n    })));\n  }\n\n  state.attributes.popper = Object.assign(Object.assign({}, state.attributes.popper), {}, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nvar computeStyles$1 = {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};\n\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect$1(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      } // Flow doesn't support to extend this property, but it's the most\n      // effective way to apply styles to an HTMLElement\n      // $FlowFixMe\n\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nvar applyStyles$1 = {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect$1,\n  requires: ['computeStyles']\n};\n\nfunction distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign(Object.assign({}, rects), {}, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nvar offset$1 = {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};\n\nvar hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}\n\nvar hash$1 = {\n  start: 'end',\n  end: 'start'\n};\nfunction getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash$1[matched];\n  });\n}\n\n/*:: type OverflowsMap = { [ComputedPlacement]: number }; */\n\n/*;; type OverflowsMap = { [key in ComputedPlacement]: number }; */\nfunction computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? placements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements$1 = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements; // $FlowFixMe\n\n  var allowedPlacements = placements$1.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements$1;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: The `allowedAutoPlacements` option did not allow any', 'placements. Ensure the `placement` option matches the variation', 'of the allowed placements.', 'For example, \"auto\" cannot be used to allow \"bottom-start\".', 'Use \"auto-start\" instead.'].join(' '));\n    }\n  } // $FlowFixMe: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases  research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nvar flip$1 = {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};\n\nfunction getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\n\nfunction within(min, value, max) {\n  return Math.max(min, Math.min(value, max));\n}\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign(Object.assign({}, state.rects), {}, {\n    placement: state.placement\n  })) : tetherOffset;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = popperOffsets[mainAxis] + overflow[mainSide];\n    var max = popperOffsets[mainAxis] - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - tetherOffsetValue : minLen - arrowLen - arrowPaddingMin - tetherOffsetValue;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + tetherOffsetValue : maxLen + arrowLen + arrowPaddingMax + tetherOffsetValue;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = state.modifiersData.offset ? state.modifiersData.offset[state.placement][mainAxis] : 0;\n    var tetherMin = popperOffsets[mainAxis] + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = popperOffsets[mainAxis] + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? Math.min(min, tetherMin) : min, offset, tether ? Math.max(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var _preventedOffset = within(_min, _offset, _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nvar preventOverflow$1 = {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = state.modifiersData[name + \"#persistent\"].padding;\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect$2(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element,\n      _options$padding = options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isHTMLElement(arrowElement)) {\n      console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', 'element.'].join(' '));\n    }\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n  state.modifiersData[name + \"#persistent\"] = {\n    padding: mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements))\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nvar arrow$1 = {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect$2,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign(Object.assign({}, state.attributes.popper), {}, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nvar hide$1 = {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};\n\nvar defaultModifiers = [eventListeners, popperOffsets$1, computeStyles$1, applyStyles$1, offset$1, flip$1, preventOverflow$1, arrow$1, hide$1];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexports.createPopper = createPopper;\nexports.defaultModifiers = defaultModifiers;\nexports.detectOverflow = detectOverflow;\nexports.popperGenerator = popperGenerator;\n//# sourceMappingURL=popper.js.map\n","(function () {\n\t'use strict';\n\n\t/**\n\t * Whether or not the device is a Touch device\n\t * @type {boolean}\n\t */\n\tvar isTouchDevice = \"ontouchstart\" in document;\n\n\t/**\n\t * If true, the user agent already supports the 'maxTouchPoints' property on the Navigator prototype\n\t * @type {boolean}\n\t */\n\tvar SUPPORTS_MAX_TOUCH_POINTS = \"maxTouchPoints\" in Navigator.prototype;\n\n\t// tslint:disable:no-any\n\t// Only set the 'maxTouchPoints' property on the Navigator prototype if it isn't already supported\n\tif (!SUPPORTS_MAX_TOUCH_POINTS) {\n\t    // If the device is a touch device, use 1 as the max available touch points even if it may be more. We have no way of knowing! Otherwise, fall back to 0\n\t    Object.defineProperty(Navigator.prototype, \"maxTouchPoints\", {\n\t        value: \"maxTouchPoints\" in navigator\n\t            ? // Use the existing maxTouchPoints value if given\n\t                navigator.maxTouchPoints\n\t            : // Use the existing msMaxTouchPoints value if given\n\t                \"msMaxTouchPoints\" in navigator\n\t                    ? navigator.msMaxTouchPoints\n\t                    : !isTouchDevice\n\t                        ? 0\n\t                        : 1,\n\t        enumerable: true\n\t    });\n\t}\n\n\tvar POINTER_EVENT_TYPES = [\n\t    \"pointerover\",\n\t    \"pointerenter\",\n\t    \"pointerdown\",\n\t    \"pointermove\",\n\t    \"pointerup\",\n\t    \"pointercancel\",\n\t    \"pointerout\",\n\t    \"pointerleave\",\n\t    \"gotpointercapture\",\n\t    \"lostpointercapture\"\n\t];\n\n\t/**\n\t * Returns true if the given event type represents a PointerEvent\n\t * @param {string} type\n\t * @returns {type is PointerEventType}\n\t */\n\tfunction isPointerEventType(type) {\n\t    switch (type) {\n\t        case \"gotpointercapture\":\n\t        case \"lostpointercapture\":\n\t        case \"pointerdown\":\n\t        case \"pointermove\":\n\t        case \"pointerup\":\n\t        case \"pointercancel\":\n\t        case \"pointerenter\":\n\t        case \"pointerleave\":\n\t        case \"pointerout\":\n\t        case \"pointerover\":\n\t            return true;\n\t        default:\n\t            return false;\n\t    }\n\t}\n\n\t/**\n\t * Checks if there are Global Event Handlers (such as 'onpointerdown') for every Pointer Event\n\t * @type {boolean}\n\t */\n\tvar SUPPORTS_POINTER_EVENT_HANDLERS = POINTER_EVENT_TYPES.every(function (type) { return \"on\" + type in window; });\n\n\t// Only patch the dispatchEvent EventTarget prototype method if the user agent\n\t// doesn't already support Global Event Handlers for Pointer Events\n\tif (!SUPPORTS_POINTER_EVENT_HANDLERS) {\n\t    // Keep a reference to the original dispatchEvent prototype method\n\t    var originalDispatchEvent_1 = EventTarget.prototype.dispatchEvent;\n\t    /**\n\t     * Overwrite the dispatchEvent prototype method such that we can provide special handling\n\t     * for PointerEvents\n\t     * @param {Event} event\n\t     * @returns {boolean}\n\t     */\n\t    EventTarget.prototype.dispatchEvent = function (event) {\n\t        if (isPointerEventType(event.type)) {\n\t            // Also invoke the event handler, if it exists\n\t            var eventHandler = this[\"on\" + event.type];\n\t            if (eventHandler != null) {\n\t                eventHandler(event);\n\t            }\n\t        }\n\t        return originalDispatchEvent_1.call(this, event);\n\t    };\n\t}\n\n\t\n\n\t\n\n\t/*! *****************************************************************************\r\n\tCopyright (c) Microsoft Corporation. All rights reserved.\r\n\tLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n\tthis file except in compliance with the License. You may obtain a copy of the\r\n\tLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n\tTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n\tKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n\tWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n\tMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n\tSee the Apache Version 2.0 License for specific language governing permissions\r\n\tand limitations under the License.\r\n\t***************************************************************************** */\r\n\r\n\tvar __assign = function() {\r\n\t    __assign = Object.assign || function __assign(t) {\r\n\t        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n\t            s = arguments[i];\r\n\t            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n\t        }\r\n\t        return t;\r\n\t    };\r\n\t    return __assign.apply(this, arguments);\r\n\t};\r\n\r\n\tfunction __read(o, n) {\r\n\t    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n\t    if (!m) return o;\r\n\t    var i = m.call(o), r, ar = [], e;\r\n\t    try {\r\n\t        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n\t    }\r\n\t    catch (error) { e = { error: error }; }\r\n\t    finally {\r\n\t        try {\r\n\t            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n\t        }\r\n\t        finally { if (e) throw e.error; }\r\n\t    }\r\n\t    return ar;\r\n\t}\r\n\r\n\tfunction __spread() {\r\n\t    for (var ar = [], i = 0; i < arguments.length; i++)\r\n\t        ar = ar.concat(__read(arguments[i]));\r\n\t    return ar;\r\n\t}\n\n\t/**\n\t * The default values for constructed PointerEvents\n\t * @type {object}\n\t */\n\tvar POINTER_EVENT_DEFAULT_VALUES = {\n\t    pointerId: 0,\n\t    width: 1,\n\t    height: 1,\n\t    pressure: 0,\n\t    tangentialPressure: 0,\n\t    tiltX: 0,\n\t    tiltY: 0,\n\t    twist: 0,\n\t    pointerType: \"\",\n\t    isPrimary: false\n\t};\n\n\tvar SHARED_DESCRIPTOR_OPTIONS = {\n\t    writable: false,\n\t    configurable: true,\n\t    enumerable: true\n\t};\n\n\t/**\n\t * Gets a PropertyDescriptor with a fallback value\n\t * @param {Key} key\n\t * @param {IPointerEventBase[Key]} providedValue\n\t * @returns {PropertyDescriptor}\n\t */\n\tfunction getDescriptorWithFallback(key, providedValue) {\n\t    return __assign({ value: providedValue != null ? providedValue : POINTER_EVENT_DEFAULT_VALUES[key] }, SHARED_DESCRIPTOR_OPTIONS);\n\t}\n\n\tvar SEEN_POINTER_IDS = new Set();\n\n\t// tslint:disable:no-any\n\t// tslint:disable:bool-param-default\n\t/**\n\t * A specialization of MouseEvents as spec'ed in https://www.w3.org/TR/pointerevents\n\t */\n\tvar PointerEvent = /** @class */ (function () {\n\t    function PointerEvent(type, eventInitDict) {\n\t        if (eventInitDict === void 0) { eventInitDict = {}; }\n\t        // Sets all of the given PropertyDescriptors with fallbacks to the default values as defined by the specification\n\t        var propsToSet = {\n\t            pointerId: getDescriptorWithFallback(\"pointerId\", eventInitDict.pointerId),\n\t            width: getDescriptorWithFallback(\"width\", eventInitDict.width),\n\t            height: getDescriptorWithFallback(\"height\", eventInitDict.height),\n\t            pressure: getDescriptorWithFallback(\"pressure\", eventInitDict.pressure),\n\t            tangentialPressure: getDescriptorWithFallback(\"tangentialPressure\", eventInitDict.tangentialPressure),\n\t            tiltX: getDescriptorWithFallback(\"tiltX\", eventInitDict.tiltX),\n\t            tiltY: getDescriptorWithFallback(\"tiltY\", eventInitDict.tiltY),\n\t            twist: getDescriptorWithFallback(\"twist\", eventInitDict.twist),\n\t            pointerType: getDescriptorWithFallback(\"pointerType\", eventInitDict.pointerType),\n\t            isPrimary: getDescriptorWithFallback(\"isPrimary\", eventInitDict.isPrimary)\n\t        };\n\t        var mouseEvent = new MouseEvent(type, eventInitDict);\n\t        Object.defineProperties(mouseEvent, propsToSet);\n\t        // Update the SEEN_POINTER_IDS Set with the pointer id from the options\n\t        SEEN_POINTER_IDS.add(propsToSet.pointerId.value);\n\t        // Return the constructed MouseEvent directly from the constructor\n\t        return mouseEvent;\n\t    }\n\t    /**\n\t     * This is a no-op. A MouseEvent is returned from the constructor\n\t     * @returns {EventTarget[]}\n\t     */\n\t    PointerEvent.prototype.deepPath = function () {\n\t        return [];\n\t    };\n\t    /**\n\t     * This is a no-op. A MouseEvent is returned from the constructor\n\t     * @returns {EventTarget[]}\n\t     */\n\t    PointerEvent.prototype.composedPath = function () {\n\t        return [];\n\t    };\n\t    /**\n\t     * This is a no-op. A MouseEvent is returned from the constructor\n\t     * @param {string} _keyArg\n\t     * @returns {boolean}\n\t     */\n\t    PointerEvent.prototype.getModifierState = function (_keyArg) {\n\t        return false;\n\t    };\n\t    /**\n\t     * This is a no-op. A MouseEvent is returned from the constructor\n\t     * @param {string} _type\n\t     * @param {boolean} _bubbles\n\t     * @param {boolean} _cancelable\n\t     */\n\t    PointerEvent.prototype.initEvent = function (_type, _bubbles, _cancelable) { };\n\t    /**\n\t     * This is a no-op. A MouseEvent is returned from the constructor\n\t     * @param {string} _typeArg\n\t     * @param {boolean} _canBubbleArg\n\t     * @param {boolean} _cancelableArg\n\t     * @param {Window} _viewArg\n\t     * @param {number} _detailArg\n\t     * @param {number} _screenXArg\n\t     * @param {number} _screenYArg\n\t     * @param {number} _clientXArg\n\t     * @param {number} _clientYArg\n\t     * @param {boolean} _ctrlKeyArg\n\t     * @param {boolean} _altKeyArg\n\t     * @param {boolean} _shiftKeyArg\n\t     * @param {boolean} _metaKeyArg\n\t     * @param {number} _buttonArg\n\t     * @param {EventTarget | null} _relatedTargetArg\n\t     */\n\t    PointerEvent.prototype.initMouseEvent = function (_typeArg, _canBubbleArg, _cancelableArg, _viewArg, _detailArg, _screenXArg, _screenYArg, _clientXArg, _clientYArg, _ctrlKeyArg, _altKeyArg, _shiftKeyArg, _metaKeyArg, _buttonArg, _relatedTargetArg) { };\n\t    /**\n\t     * This is a no-op. A MouseEvent is returned from the constructor\n\t     * @param {string} _typeArg\n\t     * @param {boolean} _canBubbleArg\n\t     * @param {boolean} _cancelableArg\n\t     * @param {Window} _viewArg\n\t     * @param {number} _detailArg\n\t     */\n\t    PointerEvent.prototype.initUIEvent = function (_typeArg, _canBubbleArg, _cancelableArg, _viewArg, _detailArg) { };\n\t    /**\n\t     * This is a no-op. A MouseEvent is returned from the constructor\n\t     */\n\t    PointerEvent.prototype.preventDefault = function () { };\n\t    /**\n\t     * This is a no-op. A MouseEvent is returned from the constructor\n\t     */\n\t    PointerEvent.prototype.stopImmediatePropagation = function () { };\n\t    /**\n\t     * This is a no-op. A MouseEvent is returned from the constructor\n\t     */\n\t    PointerEvent.prototype.stopPropagation = function () { };\n\t    return PointerEvent;\n\t}());\n\n\t/**\n\t * Converts the type of a PointerEvent into one that the browser can understand\n\t * @param {string} pointerEventType\n\t * @returns {string|null}\n\t */\n\tfunction convertPointerEventType(pointerEventType) {\n\t    if (isTouchDevice) {\n\t        switch (pointerEventType) {\n\t            case \"pointerdown\":\n\t                return \"touchstart\";\n\t            case \"pointermove\":\n\t                return \"touchmove\";\n\t            case \"pointerup\":\n\t                return \"touchend\";\n\t            case \"pointercancel\":\n\t                return \"touchcancel\";\n\t            case \"pointerout\":\n\t            case \"pointerleave\":\n\t            case \"pointerenter\":\n\t            case \"pointerover\":\n\t            case \"lostpointercapture\":\n\t            case \"gotpointercapture\":\n\t                return null;\n\t        }\n\t    }\n\t    else {\n\t        switch (pointerEventType) {\n\t            case \"pointerdown\":\n\t                return \"mousedown\";\n\t            case \"pointermove\":\n\t                return \"mousemove\";\n\t            case \"pointerup\":\n\t                return \"mouseup\";\n\t            case \"pointercancel\":\n\t                return null;\n\t            case \"pointerout\":\n\t                return \"mouseout\";\n\t            case \"pointerleave\":\n\t                return \"mouseleave\";\n\t            case \"pointerenter\":\n\t                return \"mouseenter\";\n\t            case \"pointerover\":\n\t                return \"mouseover\";\n\t            case \"lostpointercapture\":\n\t            case \"gotpointercapture\":\n\t                return null;\n\t        }\n\t    }\n\t    throw new TypeError(\"Event of type: '\" + pointerEventType + \"' could not be handled!\");\n\t}\n\n\t\n\n\t\n\n\t\n\n\t\n\n\t/**\n\t * Returns true if the given event target is an element\n\t * @param {EventTarget|null} eventTarget\n\t * @returns {eventTarget is Element}\n\t */\n\tfunction isElement(eventTarget) {\n\t    return eventTarget != null && \"offsetLeft\" in eventTarget;\n\t}\n\n\t// tslint:disable:no-any\n\t/**\n\t * Gets the parent of an element, taking into account DocumentFragments, ShadowRoots, as well as the root context (window)\n\t * @param {EventTarget} currentElement\n\t * @returns {EventTarget | null}\n\t */\n\tfunction getParent(currentElement) {\n\t    if (\"nodeType\" in currentElement && currentElement.nodeType === 1) {\n\t        return currentElement.parentNode;\n\t    }\n\t    if (\"ShadowRoot\" in window && currentElement instanceof window.ShadowRoot) {\n\t        return currentElement.host;\n\t    }\n\t    else if (currentElement === document) {\n\t        return window;\n\t    }\n\t    else if (currentElement instanceof Node)\n\t        return currentElement.parentNode;\n\t    return null;\n\t}\n\n\t// tslint:disable:no-any\n\t/**\n\t * Finds the nearest root from an element\n\t * @param {Element} target\n\t * @returns {DocumentOrShadowRoot}\n\t */\n\tfunction findNearestRoot(target) {\n\t    var currentElement = target;\n\t    while (currentElement != null) {\n\t        if (\"ShadowRoot\" in window && currentElement instanceof window.ShadowRoot) {\n\t            // Assume this is a ShadowRoot\n\t            return currentElement;\n\t        }\n\t        var parent_1 = getParent(currentElement);\n\t        if (parent_1 === currentElement) {\n\t            return document;\n\t        }\n\t        currentElement = parent_1;\n\t    }\n\t    return document;\n\t}\n\n\tvar POINTER_ID_TO_CAPTURED_TARGET_MAP = new Map();\n\n\t// tslint:disable:no-any\n\t/**\n\t * Retrieves the width of a touch\n\t * @param {Touch} touch\n\t * @returns {number}\n\t */\n\tfunction getTouchWidth(touch) {\n\t    if (\"radiusX\" in touch)\n\t        return touch.radiusX * 2;\n\t    else if (\"webkitRadiusX\" in touch)\n\t        return touch.webkitRadiusX * 2;\n\t    else {\n\t        return POINTER_EVENT_DEFAULT_VALUES.width;\n\t    }\n\t}\n\t/**\n\t * Retrieves the height of a touch\n\t * @param {Touch} touch\n\t * @returns {number}\n\t */\n\tfunction getTouchHeight(touch) {\n\t    if (\"radiusY\" in touch)\n\t        return touch.radiusY * 2;\n\t    else if (\"webkitRadiusY\" in touch)\n\t        return touch.webkitRadiusY * 2;\n\t    else {\n\t        return POINTER_EVENT_DEFAULT_VALUES.height;\n\t    }\n\t}\n\t/**\n\t * Gets the pressure of the current touch, depending on the type of event\n\t * @param {PointerEventType} type\n\t * @param {MouseEvent | Touch} touchOrMouseEvent\n\t * @returns {number}\n\t */\n\tfunction getPressure(type, touchOrMouseEvent) {\n\t    if (type === \"pointerup\") {\n\t        return 0;\n\t    }\n\t    else if (\"force\" in touchOrMouseEvent)\n\t        return touchOrMouseEvent.force;\n\t    else if (\"webkitForce\" in touchOrMouseEvent)\n\t        return touchOrMouseEvent.webkitForce;\n\t    else {\n\t        return POINTER_EVENT_DEFAULT_VALUES.pressure;\n\t    }\n\t}\n\t/**\n\t * Gets the 'twist' value of a Touch event\n\t * @param {Touch} touch\n\t * @returns {number}\n\t */\n\tfunction getTouchTwist(touch) {\n\t    if (\"rotationAngle\" in touch)\n\t        return touch.rotationAngle;\n\t    else if (\"webkitRotationAngle\" in touch)\n\t        return touch.webkitRotationAngle;\n\t    else {\n\t        return POINTER_EVENT_DEFAULT_VALUES.twist;\n\t    }\n\t}\n\t/**\n\t * If the event is \"pointermove\", and if the target is given and is an element,\n\t * use whatever element is currently under the cursor.\n\t * @param {number} pointerId\n\t * @param {PointerEventType} type\n\t * @param {TouchEvent} e\n\t * @param {Touch} touch\n\t * @returns {EventTarget | null}\n\t */\n\tfunction getTouchTarget(pointerId, type, e, touch) {\n\t    var captured = POINTER_ID_TO_CAPTURED_TARGET_MAP.get(pointerId);\n\t    if (captured !== undefined)\n\t        return captured;\n\t    if (type !== \"pointermove\" || !isElement(e.target) || !isElement(e.currentTarget))\n\t        return e.target;\n\t    return findNearestRoot(e.currentTarget).elementFromPoint(touch.clientX, touch.clientY);\n\t}\n\n\t/**\n\t * Gets the event path from a target\n\t * @param {Element} target\n\t * @returns {Element[]}\n\t */\n\tfunction getEventPath(target) {\n\t    var path = [];\n\t    var currentElement = target;\n\t    while (currentElement != null) {\n\t        path.push(currentElement);\n\t        currentElement = getParent(currentElement);\n\t        // If the last Node is equal to the latest parentNode, break immediately\n\t        if (path[path.length - 1] === currentElement)\n\t            break;\n\t    }\n\t    return path;\n\t}\n\n\t/**\n\t * Finds the nearest ancestor of an element that can scroll\n\t * @param {Element} target\n\t * @returns {IScrollAncestor}\n\t */\n\tfunction findNearestAncestorsWithScroll(target) {\n\t    var path = [];\n\t    var currentElement = target;\n\t    while (currentElement != null) {\n\t        if (\"style\" in currentElement) {\n\t            var computedStyle = getComputedStyle(currentElement);\n\t            var overflow = computedStyle.getPropertyValue(\"overflow\");\n\t            var canScrollX = overflow.startsWith(\"visible\") || overflow.startsWith(\"scroll\");\n\t            var canScrollY = overflow.endsWith(\"visible\") || overflow.endsWith(\"scroll\");\n\t            var canScroll = canScrollX || canScrollY;\n\t            if (canScroll) {\n\t                path.push({ canScrollX: canScrollX, canScrollY: canScrollY, scrollElement: currentElement });\n\t            }\n\t        }\n\t        var parent_1 = getParent(currentElement);\n\t        // If the last Node is equal to the latest parentNode, break immediately\n\t        if (parent_1 === currentElement)\n\t            break;\n\t        currentElement = parent_1;\n\t    }\n\t    return path;\n\t}\n\n\t/**\n\t * Overwrites the targets for the given event\n\t * @param {Event} e\n\t * @param {NullableEventTarget} target\n\t * @param {NullableEventTarget} currentTarget\n\t * @param {NullableEventTarget} relatedTarget\n\t */\n\tfunction overwriteTargetsForEvent(e, target, currentTarget, relatedTarget) {\n\t    // Set the original target and currentTarget on the cancel event\n\t    Object.defineProperties(e, __assign({}, (target === undefined\n\t        ? {}\n\t        : {\n\t            target: __assign({ value: target }, SHARED_DESCRIPTOR_OPTIONS)\n\t        }), (currentTarget === undefined\n\t        ? {}\n\t        : {\n\t            currentTarget: __assign({ value: currentTarget }, SHARED_DESCRIPTOR_OPTIONS)\n\t        }), (relatedTarget === undefined\n\t        ? {}\n\t        : {\n\t            relatedTarget: __assign({ value: relatedTarget }, SHARED_DESCRIPTOR_OPTIONS)\n\t        })));\n\t}\n\n\tvar currentMousePointerId = POINTER_EVENT_DEFAULT_VALUES.pointerId + 1;\n\n\tvar currentPenOrTouchPointerId = currentMousePointerId + 1;\n\n\t/**\n\t * Gets a PointerId from a Touch\n\t * @param {Touch} touch\n\t * @returns {number}\n\t */\n\tfunction getPointerIdFromTouch(touch) {\n\t    return touch.identifier + currentPenOrTouchPointerId;\n\t}\n\n\t/**\n\t * Returns true if the given event type is cancelable, based on the given event\n\t * @param {PointerEventType} type\n\t * @param {MouseEvent | TouchEvent} e\n\t * @returns {boolean}\n\t */\n\tfunction isCancelable(type, e) {\n\t    switch (type) {\n\t        case \"pointerover\":\n\t        case \"pointerdown\":\n\t        case \"pointermove\":\n\t        case \"pointerup\":\n\t            return true;\n\t        default:\n\t            return e.cancelable;\n\t    }\n\t}\n\n\t/**\n\t * Returns true if the given event type can bubble, based on the given event\n\t * @param {PointerEventType} type\n\t * @param {MouseEvent | TouchEvent} e\n\t * @returns {boolean}\n\t */\n\tfunction canBubble(type, e) {\n\t    switch (type) {\n\t        case \"pointerover\":\n\t        case \"pointerdown\":\n\t        case \"pointermove\":\n\t        case \"pointerup\":\n\t        case \"pointercancel\":\n\t        case \"pointerout\":\n\t        case \"gotpointercapture\":\n\t        case \"lostpointercapture\":\n\t            return true;\n\t        default:\n\t            return e.bubbles;\n\t    }\n\t}\n\n\tvar CLONEABLE_EVENT_PROPERTIES = new Set([\n\t    \"cancelBubble\",\n\t    \"currentTarget\",\n\t    \"defaultPrevented\",\n\t    \"eventPhase\",\n\t    \"returnValue\",\n\t    \"scoped\",\n\t    \"srcElement\",\n\t    \"timeStamp\",\n\t    \"deepPath\",\n\t    \"AT_TARGET\",\n\t    \"BUBBLING_PHASE\",\n\t    \"CAPTURING_PHASE\",\n\t    \"NONE\"\n\t]);\n\n\tvar CLONEABLE_UI_EVENT_PROPERTIES = new Set(__spread(CLONEABLE_EVENT_PROPERTIES, [\n\t    \"view\"\n\t], (\"sourceCapabilities\" in UIEvent.prototype ? [\"sourceCapabilities\"] : [])));\n\n\t/**\n\t * Clones an Event as a new PointerEvent\n\t * @param {ICloneEventAsPointerEventOptions} options\n\t * @returns {PointerEvent}\n\t */\n\tfunction cloneEventAsPointerEvent(_a) {\n\t    var dynamicPropertiesHandler = _a.dynamicPropertiesHandler, e = _a.e, initOptions = _a.initOptions, overwrittenMouseEventProperties = _a.overwrittenMouseEventProperties, type = _a.type;\n\t    // Create a new PointerEvent\n\t    var clone = new PointerEvent(type, initOptions);\n\t    // Preventing default on the clone will also prevent default on the original event\n\t    var rawPreventDefault = clone.preventDefault;\n\t    var rawStopPropagation = clone.stopPropagation;\n\t    var rawStopImmediatePropagation = clone.stopImmediatePropagation;\n\t    clone.preventDefault = function () {\n\t        rawPreventDefault.call(this);\n\t        if (!e.defaultPrevented) {\n\t            e.preventDefault();\n\t        }\n\t    };\n\t    // Stopping propagation on the clone will also stop propagation on the original event\n\t    clone.stopPropagation = function () {\n\t        rawStopPropagation.call(this);\n\t        e.stopPropagation();\n\t    };\n\t    // Stopping immediate propagation on the clone will also stop immediate propagation on the original event\n\t    clone.stopImmediatePropagation = function () {\n\t        rawStopImmediatePropagation.call(this);\n\t        e.stopImmediatePropagation();\n\t    };\n\t    var additionalPropsToSet = {};\n\t    CLONEABLE_UI_EVENT_PROPERTIES.forEach(function (key) {\n\t        return (additionalPropsToSet[key] = __assign({ value: e[key] }, SHARED_DESCRIPTOR_OPTIONS));\n\t    });\n\t    additionalPropsToSet = __assign({}, additionalPropsToSet, overwrittenMouseEventProperties, dynamicPropertiesHandler());\n\t    // Set MouseEvent (and inherited UIEvent) properties on the event object\n\t    Object.defineProperties(clone, additionalPropsToSet);\n\t    return clone;\n\t}\n\n\tvar pointerIdToCancelFiredSet = new Set();\n\t/**\n\t * Updates the PointerIdToCancelFiredSet\n\t * @param {{type: PointerEventType, pointerId: number}} e\n\t */\n\tfunction updatePointerIdToCancelFiredSet(_a) {\n\t    var type = _a.type, pointerId = _a.pointerId;\n\t    switch (type) {\n\t        case \"pointercancel\":\n\t            pointerIdToCancelFiredSet.add(pointerId);\n\t            break;\n\t        case \"pointerdown\":\n\t        case \"pointerup\":\n\t            pointerIdToCancelFiredSet[\"delete\"](pointerId);\n\t            break;\n\t    }\n\t}\n\n\t/**\n\t * Invokes a listener with the given event\n\t * @param {PointerEvent} event\n\t * @param {EventListenerOrEventListenerObject} listener\n\t */\n\tfunction invokeListener(event, listener) {\n\t    typeof listener === \"function\" ? listener(event) : listener.handleEvent(event);\n\t}\n\n\t\n\n\tvar styleDeclarationPropertyName = \"touchAction\";\n\tvar styleAttributePropertyName = \"touch-action\";\n\tvar styleAttributePropertyNameRegex = new RegExp(styleAttributePropertyName + \":\\\\s*([^;]*)\");\n\t/**\n\t * Finds all ancestors and their touch-action values\n\t * @param {Element} target\n\t * @returns {ITouchActionAncestor[]}\n\t */\n\tfunction findNearestAncestorsWithTouchAction(target) {\n\t    var path = [];\n\t    var currentElement = target;\n\t    while (currentElement != null) {\n\t        var touchActionPropertyValue = null;\n\t        if (\"style\" in currentElement) {\n\t            touchActionPropertyValue = currentElement.style[styleDeclarationPropertyName];\n\t            if (touchActionPropertyValue == null || touchActionPropertyValue === \"\") {\n\t                var styleAttributeValue = currentElement.getAttribute(\"style\");\n\t                if (styleAttributeValue != null && styleAttributeValue.includes(styleAttributePropertyName)) {\n\t                    var match = styleAttributeValue.match(styleAttributePropertyNameRegex);\n\t                    if (match != null) {\n\t                        var _a = __read(match, 2), values = _a[1];\n\t                        touchActionPropertyValue = values;\n\t                    }\n\t                }\n\t            }\n\t            if (touchActionPropertyValue == null || touchActionPropertyValue === \"\") {\n\t                var attributeValue = target.getAttribute(\"touch-action\");\n\t                if (attributeValue != null && attributeValue !== \"\") {\n\t                    touchActionPropertyValue = attributeValue;\n\t                }\n\t            }\n\t            if (touchActionPropertyValue != null) {\n\t                path.push({\n\t                    element: currentElement,\n\t                    touchAction: new Set(touchActionPropertyValue.split(/\\s/).map(function (part) { return part.trim(); }))\n\t                });\n\t            }\n\t        }\n\t        var parent_1 = getParent(currentElement);\n\t        // If the last Node is equal to the latest parentNode, break immediately\n\t        if (parent_1 === currentElement)\n\t            break;\n\t        currentElement = parent_1;\n\t    }\n\t    return path;\n\t}\n\n\t// tslint:disable:no-any\n\t// tslint:disable:no-identical-conditions\n\t// tslint:disable:no-collapsible-if\n\t/**\n\t * The name of the property to extend TouchEvents with\n\t * @type {string}\n\t */\n\tvar TOUCH_ACTION_PROPERTY_NAME = \"___touchAction___\";\n\t/**\n\t * How great the different between a touchstart and touchmove before it is determined that panning is undergoing\n\t * @type {number}\n\t */\n\tvar PANNING_DIFFERENCE_THRESHOLD = 5;\n\t/**\n\t * The PointerEvents to track during scrolling\n\t * @type {(string)[]}\n\t */\n\tvar POINTER_EVENTS_TO_TRACK = [\"pointercancel\", \"pointerleave\", \"pointerup\", \"pointerout\"];\n\tvar LAST_POINTER_DOWN_EVENT_FOR_POINTER_ID = new Map();\n\t/**\n\t * Handles all those dynamic properties that are specific for a specific PointerEvent type on Touch devices\n\t * @param {number} pointerId\n\t * @param {PointerEventType} type\n\t * @param {Touch} currentTouch\n\t * @param {TouchEvent} e\n\t * @returns {{[Key in DynamicPointerEventProperty]: PropertyDescriptor}}\n\t */\n\tfunction handleDynamicPropertiesForPointerEventOnTouch(pointerId, type, currentTouch, e) {\n\t    switch (type) {\n\t        case \"pointerdown\":\n\t        case \"pointermove\":\n\t        case \"pointerup\":\n\t        case \"pointerover\":\n\t        case \"pointerenter\":\n\t        case \"gotpointercapture\":\n\t        case \"lostpointercapture\":\n\t            return handleDynamicPropertiesForContactTouch(pointerId, type, currentTouch, e);\n\t        case \"pointercancel\":\n\t        case \"pointerout\":\n\t        case \"pointerleave\":\n\t            return handleDynamicPropertiesForNoContactTouch(pointerId, type, currentTouch, e);\n\t        default:\n\t            throw new TypeError(\"Error: Could not handle dynamic properties for a PointerEvent of type: '\" + type + \"'\");\n\t    }\n\t}\n\t/**\n\t * Handles all those dynamic properties that are specific for pointercancel/pointerleave/pointerout events on Touch devices\n\t * @param {number} pointerId\n\t * @param {PointerEventType} type\n\t * @param {Touch} touch\n\t * @param {TouchEvent} e\n\t * @returns {{[Key in DynamicPointerEventProperty]: PropertyDescriptor}}\n\t */\n\tfunction handleDynamicPropertiesForNoContactTouch(pointerId, type, touch, e) {\n\t    return {\n\t        target: __assign({ value: getTouchTarget(pointerId, type, e, touch) }, SHARED_DESCRIPTOR_OPTIONS),\n\t        // For everything other than pointerover/pointerleave/pointerout/pointerenter, the related target should be null\n\t        // https://www.w3.org/TR/pointerevents2/\n\t        relatedTarget: __assign({ value: null }, SHARED_DESCRIPTOR_OPTIONS),\n\t        button: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        buttons: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        clientX: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        clientY: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        width: __assign({ value: POINTER_EVENT_DEFAULT_VALUES.width }, SHARED_DESCRIPTOR_OPTIONS),\n\t        height: __assign({ value: POINTER_EVENT_DEFAULT_VALUES.height }, SHARED_DESCRIPTOR_OPTIONS),\n\t        pressure: __assign({ value: POINTER_EVENT_DEFAULT_VALUES.pressure }, SHARED_DESCRIPTOR_OPTIONS),\n\t        tangentialPressure: __assign({ value: POINTER_EVENT_DEFAULT_VALUES.tangentialPressure }, SHARED_DESCRIPTOR_OPTIONS),\n\t        tiltX: __assign({ value: POINTER_EVENT_DEFAULT_VALUES.tiltX }, SHARED_DESCRIPTOR_OPTIONS),\n\t        tiltY: __assign({ value: POINTER_EVENT_DEFAULT_VALUES.tiltY }, SHARED_DESCRIPTOR_OPTIONS),\n\t        twist: __assign({ value: POINTER_EVENT_DEFAULT_VALUES.twist }, SHARED_DESCRIPTOR_OPTIONS),\n\t        layerX: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        layerY: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        movementX: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        movementY: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        offsetX: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        offsetY: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        pageX: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        pageY: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        screenX: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        screenY: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        x: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        y: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS)\n\t    };\n\t}\n\t/**\n\t * Handles all those dynamic properties that are specific for pointercancel events on Touch devices\n\t * @param {number} pointerId\n\t * @param {string} type\n\t * @param {Touch} currentTouch\n\t * @param {TouchEvent} e\n\t * @returns {{[Key in DynamicPointerEventProperty]: PropertyDescriptor}}\n\t */\n\tfunction handleDynamicPropertiesForContactTouch(pointerId, type, currentTouch, e) {\n\t    var offsetX = currentTouch.clientX - (isElement(currentTouch.target) ? currentTouch.target.offsetLeft : 0);\n\t    var offsetY = currentTouch.clientY - (isElement(currentTouch.target) ? currentTouch.target.offsetTop : 0);\n\t    var offsetParent = \"offsetParent\" in currentTouch.target ? currentTouch.target : null;\n\t    var layerX = offsetParent == null ? offsetX : currentTouch.clientX - offsetParent.offsetLeft;\n\t    var layerY = offsetParent == null ? offsetY : currentTouch.clientY - offsetParent.offsetTop;\n\t    return {\n\t        target: __assign({ value: getTouchTarget(pointerId, type, e, currentTouch) }, SHARED_DESCRIPTOR_OPTIONS),\n\t        // For everything other than pointerover/pointerleave/pointerout/pointerenter, the related target should be null\n\t        // https://www.w3.org/TR/pointerevents2/\n\t        relatedTarget: __assign({ value: null }, SHARED_DESCRIPTOR_OPTIONS),\n\t        button: __assign({ \n\t            // Touch contact are indicated by the button value 0\n\t            value: type === \"gotpointercapture\" ? -1 : 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        buttons: __assign({ \n\t            // During Touch contact, there is a single button in use, hence the value of 1\n\t            value: type === \"pointerup\" || type === \"lostpointercapture\" ? 0 : 1 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        clientX: __assign({ value: currentTouch.clientX }, SHARED_DESCRIPTOR_OPTIONS),\n\t        clientY: __assign({ value: currentTouch.clientY }, SHARED_DESCRIPTOR_OPTIONS),\n\t        screenX: __assign({ value: currentTouch.screenX }, SHARED_DESCRIPTOR_OPTIONS),\n\t        screenY: __assign({ value: currentTouch.screenY }, SHARED_DESCRIPTOR_OPTIONS),\n\t        pageX: __assign({ value: currentTouch.pageX }, SHARED_DESCRIPTOR_OPTIONS),\n\t        pageY: __assign({ value: currentTouch.pageY }, SHARED_DESCRIPTOR_OPTIONS),\n\t        x: __assign({ value: currentTouch.clientX }, SHARED_DESCRIPTOR_OPTIONS),\n\t        y: __assign({ value: currentTouch.clientY }, SHARED_DESCRIPTOR_OPTIONS),\n\t        offsetX: __assign({ value: offsetX }, SHARED_DESCRIPTOR_OPTIONS),\n\t        offsetY: __assign({ value: offsetY }, SHARED_DESCRIPTOR_OPTIONS),\n\t        layerX: __assign({ value: layerX }, SHARED_DESCRIPTOR_OPTIONS),\n\t        layerY: __assign({ value: layerY }, SHARED_DESCRIPTOR_OPTIONS),\n\t        // For both pointerdown and pointer up events, there has been no movement since the previous event. This is only applicable to pointermove events\n\t        movementX: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        // For both pointerdown and pointer up events, there has been no movement since the previous event. This is only applicable to pointermove events\n\t        movementY: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        // The width and height in CSS pixels of the contact geometry of the pointer.\n\t        // Will use the radiusX or webkitRadiusX properties of Touch Events to determine this\n\t        // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t        width: __assign({ value: getTouchWidth(currentTouch) }, SHARED_DESCRIPTOR_OPTIONS),\n\t        height: __assign({ value: getTouchHeight(currentTouch) }, SHARED_DESCRIPTOR_OPTIONS),\n\t        // Some browsers like iOS safari reports force values for touches which we can use to determine the pressure.\n\t        // For \"pointerup\" events, the pressure will always be 0\n\t        // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t        pressure: __assign({ value: getPressure(type, currentTouch) }, SHARED_DESCRIPTOR_OPTIONS),\n\t        // There is no known way to detect the tangential pressure currently, so we just default to setting this to 0\n\t        // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t        tangentialPressure: __assign({ value: POINTER_EVENT_DEFAULT_VALUES.tangentialPressure }, SHARED_DESCRIPTOR_OPTIONS),\n\t        // Touch pointers doesn't support tilt. Default to values of zero\n\t        // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t        tiltX: __assign({ value: POINTER_EVENT_DEFAULT_VALUES.tiltX }, SHARED_DESCRIPTOR_OPTIONS),\n\t        tiltY: __assign({ value: POINTER_EVENT_DEFAULT_VALUES.tiltY }, SHARED_DESCRIPTOR_OPTIONS),\n\t        // Gets the rotation angle, in degrees, of the contact area ellipse\n\t        // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t        twist: __assign({ value: getTouchTwist(currentTouch) }, SHARED_DESCRIPTOR_OPTIONS)\n\t    };\n\t}\n\t/**\n\t * Handles whatever logic needs to come before any given kind of TouchEvent\n\t * @param {PointerEventType} pointerEventType\n\t * @param {EventTarget} eventTarget\n\t * @param {TouchEvent} e\n\t * @param {PointerEvent[]} pointerEvents\n\t */\n\tfunction handlePrePointerEventForTouch(pointerEventType, eventTarget, e, pointerEvents) {\n\t    switch (pointerEventType) {\n\t        case \"pointermove\":\n\t            if (isElement(e.target) && isElement(e.currentTarget)) {\n\t                var touchAction_1 = e[TOUCH_ACTION_PROPERTY_NAME];\n\t                // If only panning in the [x|y]-axis is allowed, test if panning is attempted in the [x|y]-axis and prevent it if that is the case\n\t                if (touchAction_1 !== \"auto\") {\n\t                    pointerEvents.forEach(function (_a) {\n\t                        var pointerId = _a.pointerId, clientX = _a.clientX, clientY = _a.clientY;\n\t                        if (e.cancelable && !e.defaultPrevented) {\n\t                            // Take the last known pointer down event\n\t                            var pointerDownEvent = LAST_POINTER_DOWN_EVENT_FOR_POINTER_ID.get(pointerId);\n\t                            if (pointerDownEvent == null)\n\t                                return;\n\t                            var diffX = clientX - pointerDownEvent.clientX;\n\t                            var absDiffX = Math.abs(diffX);\n\t                            var diffY = clientY - pointerDownEvent.clientY;\n\t                            var absDiffY = Math.abs(diffY);\n\t                            var isPanningX = absDiffX > PANNING_DIFFERENCE_THRESHOLD && absDiffX > absDiffY;\n\t                            var isPanningY = absDiffY > PANNING_DIFFERENCE_THRESHOLD && absDiffY > absDiffX;\n\t                            var isPanningUp = diffY > 0;\n\t                            var isPanningDown = diffY < 0;\n\t                            var isPanningLeft = diffX > 0;\n\t                            var isPanningRight = diffX < 0;\n\t                            if (touchAction_1 === \"none\") {\n\t                                // Prevent touchmove from performing its default behavior if horizontal or vertical movement happens and none if allowed\n\t                                if (isPanningX || isPanningY) {\n\t                                    e.preventDefault();\n\t                                }\n\t                            }\n\t                            else if (touchAction_1 === \"pan-y\") {\n\t                                // Prevent touchmove from performing its default behavior if horizontal movement happens, but only vertical scrolling is allowed\n\t                                if (isPanningX) {\n\t                                    e.preventDefault();\n\t                                }\n\t                            }\n\t                            else if (touchAction_1 === \"pan-y pan-left\") {\n\t                                // Prevent touchmove from performing its default behavior if right-going horizontal movement happens\n\t                                if (isPanningRight) {\n\t                                    e.preventDefault();\n\t                                }\n\t                            }\n\t                            else if (touchAction_1 === \"pan-y pan-right\") {\n\t                                // Prevent touchmove from performing its default behavior if left-going horizontal movement happens\n\t                                if (isPanningLeft) {\n\t                                    e.preventDefault();\n\t                                }\n\t                            }\n\t                            else if (touchAction_1 === \"pan-up\") {\n\t                                if (!isPanningUp) {\n\t                                    e.preventDefault();\n\t                                }\n\t                            }\n\t                            else if (touchAction_1 === \"pan-down\") {\n\t                                if (!isPanningDown) {\n\t                                    e.preventDefault();\n\t                                }\n\t                            }\n\t                            else if (touchAction_1 === \"pan-left\") {\n\t                                if (!isPanningLeft) {\n\t                                    e.preventDefault();\n\t                                }\n\t                            }\n\t                            else if (touchAction_1 === \"pan-right\") {\n\t                                if (!isPanningRight) {\n\t                                    e.preventDefault();\n\t                                }\n\t                            }\n\t                            else if (touchAction_1 === \"pan-x\") {\n\t                                // Prevent touchmove from performing its default behavior if vertical movement happens, but only horizontal scrolling is allowed\n\t                                if (isPanningY) {\n\t                                    e.preventDefault();\n\t                                }\n\t                            }\n\t                            else if (touchAction_1 === \"pan-x pan-up\") {\n\t                                // Prevent touchmove from performing its default behavior if down-going vertical movement happens\n\t                                if (isPanningDown) {\n\t                                    e.preventDefault();\n\t                                }\n\t                            }\n\t                            else if (touchAction_1 === \"pan-x pan-down\") {\n\t                                // Prevent touchmove from performing its default behavior if up-going vertical movement happens\n\t                                if (isPanningUp) {\n\t                                    e.preventDefault();\n\t                                }\n\t                            }\n\t                        }\n\t                    });\n\t                    break;\n\t                }\n\t                // If the target is not equal to the original target\n\t                if (e.target !== e.currentTarget) {\n\t                    // If none of the touches has a pointer id that is used for capturing pointer events and binding them to the current target of the event, do nothing\n\t                    if (Array.from(e.changedTouches).some(function (touch) { return POINTER_ID_TO_CAPTURED_TARGET_MAP.has(getPointerIdFromTouch(touch)); })) {\n\t                        break;\n\t                    }\n\t                    // Fire a \"pointercancel\" event if/when the target is no longer equal to the original target\n\t                    createPointerEventsForTouchOfTypeAndDispatch(\"pointercancel\", e, eventTarget);\n\t                }\n\t            }\n\t            break;\n\t        case \"pointerdown\":\n\t            // All \"pointerdown\" events must be preceded by a \"pointerover\" event\n\t            // https://www.w3.org/TR/pointerevents/#the-pointerover-event\n\t            createPointerEventsForTouchOfTypeAndDispatch(\"pointerover\", e, eventTarget);\n\t            // All \"pointerdown\" events must be preceded by a \"pointerenter\" event\n\t            // https://www.w3.org/TR/pointerevents/#the-pointerover-event\n\t            createPointerEventsForTouchOfTypeAndDispatch(\"pointerenter\", e, eventTarget);\n\t            break;\n\t    }\n\t}\n\t/**\n\t * Handles whatever logic needs to follow any given kind of TouchEvent\n\t * @param {PointerEventType} pointerEventType\n\t * @param {EventTarget} eventTarget\n\t * @param {TouchEvent} e\n\t */\n\tfunction handlePostPointerEventForTouch(pointerEventType, eventTarget, e) {\n\t    // Store a reference to the event target and event currentTarget. These may change in the meantime, but we are going to need them when cloning the event\n\t    var target = e.target;\n\t    var currentTarget = e.currentTarget;\n\t    // Immediately after pointerup or pointercancel events, a user agent MUST clear any pointer capture target overrides\n\t    // https://www.w3.org/TR/pointerevents/#implicit-release-of-pointer-capture\n\t    if (pointerEventType === \"pointerup\" || pointerEventType === \"pointercancel\") {\n\t        Array.from(e.changedTouches).forEach(function (touch) {\n\t            var pointerId = getPointerIdFromTouch(touch);\n\t            var match = POINTER_ID_TO_CAPTURED_TARGET_MAP.get(pointerId);\n\t            if (match != null && isElement(match)) {\n\t                match.releasePointerCapture(pointerId);\n\t            }\n\t        });\n\t    }\n\t    switch (pointerEventType) {\n\t        case \"pointerdown\":\n\t            // The equivalent event is \"touchcancel\" which won't fire when the finger leaves the element\n\t            // or when scrolling happens. We need to enforce this behavior to follow the spec.\n\t            // https://www.w3.org/TR/pointerevents2/#the-pointercancel-event\n\t            if (isElement(e.currentTarget)) {\n\t                /**\n\t                 * We need to listen for \"pointermove\" events to continuously monitor and update the target\n\t                 */\n\t                var pointerMoveHandler_1 = function () { };\n\t                /**\n\t                 * We need to make sure to unbind the handler to avoid memory leaks\n\t                 */\n\t                var unbindPointerMoveHandler_1 = function () {\n\t                    eventTarget.removeEventListener(\"pointermove\", pointerMoveHandler_1);\n\t                    if (POINTER_EVENTS_TO_TRACK != null) {\n\t                        POINTER_EVENTS_TO_TRACK.forEach(function (type) {\n\t                            eventTarget.removeEventListener(type, unbindPointerMoveHandler_1);\n\t                        });\n\t                    }\n\t                };\n\t                eventTarget.addEventListener(\"pointermove\", pointerMoveHandler_1);\n\t                var ancestorsWithScroll_1 = findNearestAncestorsWithScroll(e.currentTarget);\n\t                var hasFiredScrollEvent_1 = false;\n\t                /**\n\t                 * Unbind the scroll listeners to avoid memory leaks and unnecessary computations\n\t                 */\n\t                var unbindScrollListeners_1 = function () {\n\t                    // Then remove all listeners for scroll events\n\t                    if (ancestorsWithScroll_1 != null) {\n\t                        ancestorsWithScroll_1.forEach(function (_a) {\n\t                            var scrollElement = _a.scrollElement;\n\t                            return scrollElement.removeEventListener(\"scroll\", scrollHandler_1);\n\t                        });\n\t                        ancestorsWithScroll_1 = null;\n\t                    }\n\t                    if (POINTER_EVENTS_TO_TRACK != null) {\n\t                        POINTER_EVENTS_TO_TRACK.forEach(function (type) {\n\t                            eventTarget.removeEventListener(type, unbindScrollListeners_1);\n\t                        });\n\t                    }\n\t                };\n\t                /**\n\t                 * When a scroll event happens, fire a 'pointercancel' event on the element\n\t                 */\n\t                var scrollHandler_1 = function () {\n\t                    if (!hasFiredScrollEvent_1) {\n\t                        hasFiredScrollEvent_1 = true;\n\t                        // Re-set the target and currentTarget to the values the event had before.\n\t                        // It may have changed in the meantime\n\t                        overwriteTargetsForEvent(e, target, currentTarget);\n\t                        // Construct a new event and fire it on the EventTarget\n\t                        createPointerEventsForTouchOfTypeAndDispatch(\"pointercancel\", e, eventTarget);\n\t                    }\n\t                    unbindScrollListeners_1();\n\t                };\n\t                // Hook up listeners for \"scroll\" events on all scroll ancestors\n\t                ancestorsWithScroll_1.forEach(function (_a) {\n\t                    var scrollElement = _a.scrollElement;\n\t                    return scrollElement.addEventListener(\"scroll\", scrollHandler_1);\n\t                });\n\t                // Make sure to also unbind the scroll handlers on various related PointerEvents\n\t                POINTER_EVENTS_TO_TRACK.forEach(function (pointerEventToTrack) {\n\t                    eventTarget.addEventListener(pointerEventToTrack, unbindScrollListeners_1);\n\t                    eventTarget.addEventListener(pointerEventToTrack, unbindPointerMoveHandler_1);\n\t                });\n\t            }\n\t            break;\n\t        case \"pointercancel\":\n\t            // If we're having to do with a 'pointercancel' event,\n\t            // The spec requires a \"pointerout\" and \"pointerleave\" event to be fired immediately after.\n\t            // https://www.w3.org/TR/pointerevents2/#the-pointercancel-event\n\t            createPointerEventsForTouchOfTypeAndDispatch(\"pointerout\", e, eventTarget);\n\t            createPointerEventsForTouchOfTypeAndDispatch(\"pointerleave\", e, eventTarget);\n\t            break;\n\t    }\n\t}\n\t/**\n\t * Handles touch-action values for an event\n\t * @param {PointerEventType} _type\n\t * @param {PointerEvent} e\n\t */\n\tfunction handleTouchAction(_type, e) {\n\t    // Only consider pointerdown events here\n\t    if (!isElement(e.currentTarget))\n\t        return;\n\t    var touchActionAncestors = findNearestAncestorsWithTouchAction(e.currentTarget);\n\t    var hasTouchActionNoneAncestor = touchActionAncestors.some(function (ancestor) { return ancestor.touchAction.has(\"none\"); });\n\t    var hasPanXAncestor = touchActionAncestors.some(function (ancestor) { return ancestor.touchAction.has(\"pan-x\"); });\n\t    var hasPanYAncestor = touchActionAncestors.some(function (ancestor) { return ancestor.touchAction.has(\"pan-y\"); });\n\t    var hasPanUpAncestor = touchActionAncestors.some(function (ancestor) { return ancestor.touchAction.has(\"pan-up\"); });\n\t    var hasPanDownAncestor = touchActionAncestors.some(function (ancestor) { return ancestor.touchAction.has(\"pan-down\"); });\n\t    var hasPanLeftAncestor = touchActionAncestors.some(function (ancestor) { return ancestor.touchAction.has(\"pan-left\"); });\n\t    var hasPanRightAncestor = touchActionAncestors.some(function (ancestor) { return ancestor.touchAction.has(\"pan-right\"); });\n\t    var canPanX = hasTouchActionNoneAncestor || hasPanXAncestor || (hasPanLeftAncestor && hasPanRightAncestor);\n\t    var canPanY = hasTouchActionNoneAncestor || hasPanYAncestor || (hasPanUpAncestor && hasPanDownAncestor);\n\t    if (canPanX && canPanY) {\n\t        Object.defineProperty(e, TOUCH_ACTION_PROPERTY_NAME, { value: \"none\" });\n\t    }\n\t    else if (canPanX) {\n\t        if (hasPanUpAncestor) {\n\t            Object.defineProperty(e, TOUCH_ACTION_PROPERTY_NAME, {\n\t                value: \"pan-x pan-up\"\n\t            });\n\t        }\n\t        else if (hasPanDownAncestor) {\n\t            Object.defineProperty(e, TOUCH_ACTION_PROPERTY_NAME, {\n\t                value: \"pan-x pan-down\"\n\t            });\n\t        }\n\t        else {\n\t            Object.defineProperty(e, TOUCH_ACTION_PROPERTY_NAME, { value: \"pan-x\" });\n\t        }\n\t    }\n\t    else if (canPanY) {\n\t        if (hasPanLeftAncestor) {\n\t            Object.defineProperty(e, TOUCH_ACTION_PROPERTY_NAME, {\n\t                value: \"pan-y pan-left\"\n\t            });\n\t        }\n\t        else if (hasPanRightAncestor) {\n\t            Object.defineProperty(e, TOUCH_ACTION_PROPERTY_NAME, {\n\t                value: \"pan-y pan-right\"\n\t            });\n\t        }\n\t        else {\n\t            Object.defineProperty(e, TOUCH_ACTION_PROPERTY_NAME, { value: \"pan-y\" });\n\t        }\n\t    }\n\t    else if (hasPanUpAncestor) {\n\t        if (hasPanLeftAncestor) {\n\t            Object.defineProperty(e, TOUCH_ACTION_PROPERTY_NAME, {\n\t                value: \"pan-up pan-left\"\n\t            });\n\t        }\n\t        else if (hasPanRightAncestor) {\n\t            Object.defineProperty(e, TOUCH_ACTION_PROPERTY_NAME, {\n\t                value: \"pan-up pan-right\"\n\t            });\n\t        }\n\t    }\n\t    else if (hasPanDownAncestor) {\n\t        if (hasPanLeftAncestor) {\n\t            Object.defineProperty(e, TOUCH_ACTION_PROPERTY_NAME, {\n\t                value: \"pan-down pan-left\"\n\t            });\n\t        }\n\t        else if (hasPanRightAncestor) {\n\t            Object.defineProperty(e, TOUCH_ACTION_PROPERTY_NAME, {\n\t                value: \"pan-down pan-right\"\n\t            });\n\t        }\n\t    }\n\t    else if (hasPanLeftAncestor) {\n\t        Object.defineProperty(e, TOUCH_ACTION_PROPERTY_NAME, { value: \"pan-left\" });\n\t    }\n\t    else if (hasPanRightAncestor) {\n\t        Object.defineProperty(e, TOUCH_ACTION_PROPERTY_NAME, {\n\t            value: \"pan-right\"\n\t        });\n\t    }\n\t    else if (hasPanUpAncestor) {\n\t        Object.defineProperty(e, TOUCH_ACTION_PROPERTY_NAME, { value: \"pan-up\" });\n\t    }\n\t    else if (hasPanDownAncestor) {\n\t        Object.defineProperty(e, TOUCH_ACTION_PROPERTY_NAME, { value: \"pan-down\" });\n\t    }\n\t    else {\n\t        Object.defineProperty(e, TOUCH_ACTION_PROPERTY_NAME, { value: \"auto\" });\n\t    }\n\t}\n\t/**\n\t * Creates a PointerEvent based on a TouchEvent of the given type\n\t * @param {PointerEventType} type\n\t * @param {TouchEvent} e\n\t * @returns {PointerEvent[]}\n\t */\n\tfunction createPointerEventsForTouchOfType(type, e) {\n\t    handleTouchAction(type, e);\n\t    return Array.from(e.changedTouches)\n\t        .map(function (currentTouch) {\n\t        // For Touch, each active pointer corresponds to a finger in direct contact with the digitizer\n\t        // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t        var pointerId = getPointerIdFromTouch(currentTouch);\n\t        var initOptions = __assign({}, e, { pointerId: pointerId, pointerType: \"touch\", \n\t            // The Touch will be primary if it is the first touch of the list\n\t            // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t            isPrimary: currentTouch === e.changedTouches[0], bubbles: canBubble(type, e), cancelable: isCancelable(type, e) });\n\t        // Prevent the event if cancel has been fired and it isn't an event that will always be fired after pointercancel events\n\t        var shouldPreventBecauseCanceled = type !== \"pointerout\" && type !== \"pointerleave\" && pointerIdToCancelFiredSet.has(pointerId);\n\t        if (shouldPreventBecauseCanceled) {\n\t            if (e.cancelable && !e.defaultPrevented) {\n\t                e.preventDefault();\n\t            }\n\t            // Update the Set since this won't be invoked otherwise\n\t            updatePointerIdToCancelFiredSet({ type: type, pointerId: pointerId });\n\t            return null;\n\t        }\n\t        // Define all properties of MouseEvents that should be set on the event object\n\t        // noinspection JSDeprecatedSymbols\n\t        var overwrittenMouseEventProperties = __assign({ scoped: __assign({ value: e.scoped }, SHARED_DESCRIPTOR_OPTIONS), \n\t            // The 'fromElement' property should be set to 'null' for interoperability reasons according to the spec\n\t            // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t            fromElement: __assign({ value: null }, SHARED_DESCRIPTOR_OPTIONS), \n\t            // The 'toElement' property should be set to 'null' for interoperability reasons according to the spec\n\t            // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t            toElement: __assign({ value: null }, SHARED_DESCRIPTOR_OPTIONS), \n\t            // The 'detail' property should always have a value of 0\n\t            // https://www.w3.org/TR/pointerevents/#attributes-and-default-actions\n\t            detail: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS), \n\t            // The 'composed' property should always have a value of true\n\t            // https://www.w3.org/TR/pointerevents/#attributes-and-default-actions\n\t            composed: __assign({ value: true }, SHARED_DESCRIPTOR_OPTIONS), composedPath: __assign({ value: function () { return getEventPath(e.target); } }, SHARED_DESCRIPTOR_OPTIONS) }, (!(\"region\" in Touch.prototype)\n\t            ? {}\n\t            : {\n\t                region: __assign({ value: currentTouch.region }, SHARED_DESCRIPTOR_OPTIONS)\n\t            }), (!(\"path\" in Event.prototype) || !isElement(currentTouch.target)\n\t            ? {}\n\t            : {\n\t                path: __assign({ value: getEventPath(currentTouch.target) }, SHARED_DESCRIPTOR_OPTIONS)\n\t            }), (!(\"deepPath\" in Event.prototype) || !isElement(currentTouch.target)\n\t            ? {}\n\t            : {\n\t                path: __assign({ value: function () { return getEventPath(currentTouch.target); } }, SHARED_DESCRIPTOR_OPTIONS)\n\t            }));\n\t        // Create a new PointerEvent\n\t        var clonedEvent = cloneEventAsPointerEvent({\n\t            e: e,\n\t            type: type,\n\t            initOptions: initOptions,\n\t            overwrittenMouseEventProperties: overwrittenMouseEventProperties,\n\t            dynamicPropertiesHandler: function () { return handleDynamicPropertiesForPointerEventOnTouch(pointerId, type, currentTouch, e); }\n\t        });\n\t        overwriteTargetsForEvent(e, clonedEvent.target, clonedEvent.currentTarget, clonedEvent.relatedTarget);\n\t        // Store a reference to the last constructed \"pointerdown\" event\n\t        if (type === \"pointerdown\") {\n\t            LAST_POINTER_DOWN_EVENT_FOR_POINTER_ID.set(pointerId, clonedEvent);\n\t        }\n\t        return clonedEvent;\n\t    })\n\t        .filter(function (ev) { return ev != null; });\n\t}\n\t/**\n\t * Creates a PointerEvent based on a TouchEvent of the given type and invokes the listener with it\n\t * @param {PointerEventType} type\n\t * @param {TouchEvent} e\n\t * @param {EventTarget} eventTarget\n\t * @param {EventListenerOrEventListenerObject} listener\n\t */\n\tfunction createPointerEventsForTouchOfTypeAndInvoke(type, e, eventTarget, listener) {\n\t    var pointerEvents = createPointerEventsForTouchOfType(type, e);\n\t    // Handle whatever needs to come before the TouchEvent\n\t    handlePrePointerEventForTouch(type, eventTarget, e, pointerEvents);\n\t    pointerEvents.forEach(function (clone) {\n\t        updatePointerIdToCancelFiredSet(clone);\n\t        // Invoke the listener with the cloned event\n\t        invokeListener(clone, listener);\n\t    });\n\t    // Handle whatever needs to come after the TouchEvent\n\t    handlePostPointerEventForTouch(type, eventTarget, e);\n\t}\n\t/**\n\t * Creates a PointerEvent based on a TouchEvent of the given type and dispatches an event on the event target\n\t * @param {PointerEventType} type\n\t * @param {TouchEvent} e\n\t * @param {EventTarget} eventTarget\n\t */\n\tfunction createPointerEventsForTouchOfTypeAndDispatch(type, e, eventTarget) {\n\t    var pointerEvents = createPointerEventsForTouchOfType(type, e);\n\t    // Handle whatever needs to come before the TouchEvent\n\t    handlePrePointerEventForTouch(type, eventTarget, e, pointerEvents);\n\t    pointerEvents.forEach(function (clone) {\n\t        updatePointerIdToCancelFiredSet(clone);\n\t        // Dispatch the event on the target\n\t        eventTarget.dispatchEvent(clone);\n\t    });\n\t    // Handle whatever needs to come after the TouchEvent\n\t    handlePostPointerEventForTouch(type, eventTarget, e);\n\t}\n\t/**\n\t * Handles a PointerEvent for a Touch device\n\t * @param {EventTarget} eventTarget\n\t * @param {PointerEventType} type\n\t * @param {TouchEvent} e\n\t * @param {EventListenerOrEventListenerObject} listener\n\t */\n\tfunction handlePointerEventForTouch(eventTarget, type, e, listener) {\n\t    createPointerEventsForTouchOfTypeAndInvoke(type, e, eventTarget, listener);\n\t}\n\n\t\n\n\t/**\n\t * Gets the target for a MouseEvent\n\t * @param {number} pointerId\n\t * @param {MouseEvent} e\n\t * @returns {EventTarget | null}\n\t */\n\tfunction getMouseTarget(pointerId, e) {\n\t    var captured = POINTER_ID_TO_CAPTURED_TARGET_MAP.get(pointerId);\n\t    if (captured !== undefined) {\n\t        return captured;\n\t    }\n\t    return e.target;\n\t}\n\n\t// tslint:disable:no-any\n\t/**\n\t * A Map between Event Targets and disposable objects\n\t * @type {Map<EventTarget, IDisposable>}\n\t */\n\tvar POINTER_UP_FALLBACK_LISTENER_MAP = new Map();\n\t/**\n\t * Dispatches a 'pointerup' event the next time a 'mouseup' event is fired on the window\n\t * @param {MouseEvent} e\n\t * @returns {IDisposable}\n\t */\n\tfunction dispatchPointerUpForPointerEventOnNextGlobalUpEvent(e) {\n\t    var target = e.target, currentTarget = e.currentTarget;\n\t    var dispose = function () {\n\t        window.removeEventListener(\"mouseup\", handler);\n\t    };\n\t    var handler = function (upEvent) {\n\t        // Use the coordinate-specific values from the mouseup event and set it on the constructed 'pointerup' event\n\t        var _a = isElement(currentTarget) ? currentTarget.getBoundingClientRect() : { left: 0, top: 0 }, left = _a.left, top = _a.top;\n\t        createPointerEventsForMouseOfTypeAndDispatch(\"pointerup\", e, currentTarget, {\n\t            target: __assign({ value: target }, SHARED_DESCRIPTOR_OPTIONS),\n\t            currentTarget: __assign({ value: currentTarget }, SHARED_DESCRIPTOR_OPTIONS),\n\t            clientX: __assign({ value: upEvent.clientX }, SHARED_DESCRIPTOR_OPTIONS),\n\t            clientY: __assign({ value: upEvent.clientY }, SHARED_DESCRIPTOR_OPTIONS),\n\t            screenX: __assign({ value: upEvent.screenX }, SHARED_DESCRIPTOR_OPTIONS),\n\t            screenY: __assign({ value: upEvent.screenY }, SHARED_DESCRIPTOR_OPTIONS),\n\t            layerX: __assign({ value: upEvent.layerX }, SHARED_DESCRIPTOR_OPTIONS),\n\t            layerY: __assign({ value: upEvent.layerY }, SHARED_DESCRIPTOR_OPTIONS),\n\t            movementX: __assign({ value: upEvent.movementX }, SHARED_DESCRIPTOR_OPTIONS),\n\t            movementY: __assign({ value: upEvent.movementY }, SHARED_DESCRIPTOR_OPTIONS),\n\t            offsetX: __assign({ value: upEvent.clientX - left }, SHARED_DESCRIPTOR_OPTIONS),\n\t            offsetY: __assign({ value: upEvent.clientY - top }, SHARED_DESCRIPTOR_OPTIONS),\n\t            pageX: __assign({ value: upEvent.pageX }, SHARED_DESCRIPTOR_OPTIONS),\n\t            pageY: __assign({ value: upEvent.pageY }, SHARED_DESCRIPTOR_OPTIONS),\n\t            x: __assign({ value: upEvent.x }, SHARED_DESCRIPTOR_OPTIONS),\n\t            y: __assign({ value: upEvent.y }, SHARED_DESCRIPTOR_OPTIONS)\n\t        });\n\t        dispose();\n\t    };\n\t    window.addEventListener(\"mouseup\", handler);\n\t    return { dispose: dispose };\n\t}\n\t/**\n\t * Handles whatever logic needs to follow any given kind of MouseEvent\n\t * @param {PointerEventType} pointerEventType\n\t * @param {MouseEvent} e\n\t */\n\tfunction handlePostPointerEventForMouse(pointerEventType, e) {\n\t    switch (pointerEventType) {\n\t        case \"pointercancel\":\n\t        case \"pointerup\":\n\t            // Clean up after the global \"pointerup\" listener, if it exists\n\t            if (e.currentTarget != null && POINTER_UP_FALLBACK_LISTENER_MAP.has(e.currentTarget)) {\n\t                var handler = POINTER_UP_FALLBACK_LISTENER_MAP.get(e.currentTarget);\n\t                // Clear the global listener for \"mouseup\" events\n\t                handler.dispose();\n\t                POINTER_UP_FALLBACK_LISTENER_MAP[\"delete\"](e.currentTarget);\n\t            }\n\t            // Immediately after pointerup or pointercancel events, a user agent MUST clear any pointer capture target overrides\n\t            // https://www.w3.org/TR/pointerevents/#implicit-release-of-pointer-capture\n\t            var match = POINTER_ID_TO_CAPTURED_TARGET_MAP.get(currentMousePointerId);\n\t            if (match != null && isElement(match)) {\n\t                match.releasePointerCapture(currentMousePointerId);\n\t            }\n\t            break;\n\t        case \"pointerdown\":\n\t            if (e.currentTarget != null && !POINTER_UP_FALLBACK_LISTENER_MAP.has(e.currentTarget)) {\n\t                POINTER_UP_FALLBACK_LISTENER_MAP.set(e.currentTarget, dispatchPointerUpForPointerEventOnNextGlobalUpEvent(e));\n\t            }\n\t    }\n\t}\n\t/**\n\t * Handles all those dynamic properties that are specific for pointerdown or pointerup events on Mouse devices\n\t * @param {number} pointerId\n\t * @param {string} type\n\t * @param {MouseEvent} e\n\t * @returns {{[Key in DynamicPointerEventProperty]: PropertyDescriptor}}\n\t */\n\tfunction handleDynamicPropertiesForContactMouse(pointerId, type, e) {\n\t    return {\n\t        target: __assign({ value: getMouseTarget(pointerId, e) }, SHARED_DESCRIPTOR_OPTIONS),\n\t        button: __assign({ \n\t            // If the pointer is simply over the element, no pointer contact has changed since last event.\n\t            // https://www.w3.org/TR/pointerevents2/#the-button-property\n\t            value: type === \"pointerover\" || type === \"gotpointercapture\" ? -1 : type === \"lostpointercapture\" ? 0 : e.button }, SHARED_DESCRIPTOR_OPTIONS),\n\t        buttons: __assign({ value: type === \"lostpointercapture\" ? 0 : type === \"gotpointercapture\" ? 1 : e.buttons }, SHARED_DESCRIPTOR_OPTIONS),\n\t        clientX: __assign({ value: e.clientX }, SHARED_DESCRIPTOR_OPTIONS),\n\t        clientY: __assign({ value: e.clientY }, SHARED_DESCRIPTOR_OPTIONS),\n\t        screenX: __assign({ value: e.screenX }, SHARED_DESCRIPTOR_OPTIONS),\n\t        screenY: __assign({ value: e.screenY }, SHARED_DESCRIPTOR_OPTIONS),\n\t        layerX: __assign({ value: e.layerX }, SHARED_DESCRIPTOR_OPTIONS),\n\t        layerY: __assign({ value: e.layerY }, SHARED_DESCRIPTOR_OPTIONS),\n\t        movementX: __assign({ value: e.movementX }, SHARED_DESCRIPTOR_OPTIONS),\n\t        movementY: __assign({ value: e.movementY }, SHARED_DESCRIPTOR_OPTIONS),\n\t        offsetX: __assign({ value: e.offsetX }, SHARED_DESCRIPTOR_OPTIONS),\n\t        offsetY: __assign({ value: e.offsetY }, SHARED_DESCRIPTOR_OPTIONS),\n\t        pageX: __assign({ value: e.pageX }, SHARED_DESCRIPTOR_OPTIONS),\n\t        pageY: __assign({ value: e.pageY }, SHARED_DESCRIPTOR_OPTIONS),\n\t        x: __assign({ value: e.x }, SHARED_DESCRIPTOR_OPTIONS),\n\t        y: __assign({ value: e.y }, SHARED_DESCRIPTOR_OPTIONS),\n\t        // For everything other than pointerover/pointerleave/pointerout/pointerenter, the related target should be null\n\t        // https://www.w3.org/TR/pointerevents2/\n\t        relatedTarget: __assign({ value: null }, SHARED_DESCRIPTOR_OPTIONS),\n\t        // The width and height of active mouse and pen pointers are always equal to 1\n\t        // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t        width: __assign({ value: 1 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        height: __assign({ value: 1 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        // if the device doesn't support pressure (mice and pens doesn't), the pressure is always 0.5 except for \"up\" events (which is zero)\n\t        // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t        pressure: __assign({ value: getPressure(type, e) }, SHARED_DESCRIPTOR_OPTIONS),\n\t        // if the device doesn't support tangential pressure (mice and pens doesn't), the value is always 0\n\t        // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t        tangentialPressure: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        // Mouse pointers doesn't support tilt. Default to values of zero\n\t        // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t        tiltX: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        tiltY: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        // Mouse pointers doesn't support twist. Default to values of zero\n\t        // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t        twist: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS)\n\t    };\n\t}\n\t/**\n\t * Handles all those dynamic properties that are specific for pointerout or pointerleave events on Mouse devices\n\t * @param {number} pointerId\n\t * @param {MouseEvent} e\n\t * @returns {{[Key in DynamicPointerEventProperty]: PropertyDescriptor}}\n\t */\n\tfunction handleDynamicPropertiesForNoContactMouse(pointerId, e) {\n\t    return {\n\t        target: __assign({ value: getMouseTarget(pointerId, e) }, SHARED_DESCRIPTOR_OPTIONS),\n\t        button: __assign({ value: e.button }, SHARED_DESCRIPTOR_OPTIONS),\n\t        buttons: __assign({ value: e.buttons }, SHARED_DESCRIPTOR_OPTIONS),\n\t        clientX: __assign({ value: e.clientX }, SHARED_DESCRIPTOR_OPTIONS),\n\t        clientY: __assign({ value: e.clientY }, SHARED_DESCRIPTOR_OPTIONS),\n\t        screenX: __assign({ value: e.screenX }, SHARED_DESCRIPTOR_OPTIONS),\n\t        screenY: __assign({ value: e.screenY }, SHARED_DESCRIPTOR_OPTIONS),\n\t        layerX: __assign({ value: e.layerX }, SHARED_DESCRIPTOR_OPTIONS),\n\t        layerY: __assign({ value: e.layerY }, SHARED_DESCRIPTOR_OPTIONS),\n\t        movementX: __assign({ value: e.movementX }, SHARED_DESCRIPTOR_OPTIONS),\n\t        movementY: __assign({ value: e.movementY }, SHARED_DESCRIPTOR_OPTIONS),\n\t        offsetX: __assign({ value: e.offsetX }, SHARED_DESCRIPTOR_OPTIONS),\n\t        offsetY: __assign({ value: e.offsetY }, SHARED_DESCRIPTOR_OPTIONS),\n\t        pageX: __assign({ value: e.pageX }, SHARED_DESCRIPTOR_OPTIONS),\n\t        pageY: __assign({ value: e.pageY }, SHARED_DESCRIPTOR_OPTIONS),\n\t        x: __assign({ value: e.x }, SHARED_DESCRIPTOR_OPTIONS),\n\t        y: __assign({ value: e.y }, SHARED_DESCRIPTOR_OPTIONS),\n\t        relatedTarget: __assign({ value: e.relatedTarget }, SHARED_DESCRIPTOR_OPTIONS),\n\t        // The width and height of active mouse and pen pointers are always equal to 1\n\t        // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t        width: __assign({ value: 1 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        height: __assign({ value: 1 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        // if the device doesn't support pressure (mice and pens doesn't), the pressure is always 0.5 except for \"up\" events (which is zero)\n\t        // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t        pressure: __assign({ value: getPressure(\"pointerout\", e) }, SHARED_DESCRIPTOR_OPTIONS),\n\t        // if the device doesn't support tangential pressure (mice and pens doesn't), the value is always 0\n\t        // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t        tangentialPressure: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        // Mouse pointers doesn't support tilt. Default to values of zero\n\t        // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t        tiltX: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        tiltY: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS),\n\t        // Mouse pointers doesn't support twist. Default to values of zero\n\t        // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t        twist: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS)\n\t    };\n\t}\n\t/**\n\t * Handles all those dynamic properties that are specific for a specific PointerEvent type on Mouse devices\n\t * @param {number} pointerId\n\t * @param {PointerEventType} type\n\t * @param {MouseEvent} e\n\t * @returns {{[Key in DynamicPointerEventProperty]: PropertyDescriptor}}\n\t */\n\tfunction handleDynamicPropertiesForPointerEventOnMouse(pointerId, type, e) {\n\t    switch (type) {\n\t        case \"pointerdown\":\n\t        case \"pointermove\":\n\t        case \"pointerup\":\n\t        case \"pointerover\":\n\t        case \"pointerenter\":\n\t        case \"gotpointercapture\":\n\t        case \"lostpointercapture\":\n\t            return handleDynamicPropertiesForContactMouse(pointerId, type, e);\n\t        case \"pointerout\":\n\t        case \"pointerleave\":\n\t        case \"pointercancel\":\n\t            return handleDynamicPropertiesForNoContactMouse(pointerId, e);\n\t        default:\n\t            throw new TypeError(\"Error: Could not handle dynamic properties for a PointerEvent of type: '\" + type + \"'\");\n\t    }\n\t}\n\t/**\n\t * Creates a PointerEvent based on a MouseEvent of the given type\n\t * @param {PointerEventType} type\n\t * @param {MouseEvent} e\n\t * @returns {PointerEvent[]}\n\t */\n\tfunction createPointerEventsForMouseOfType(type, e) {\n\t    var pointerId = currentMousePointerId;\n\t    var initOptions = __assign({}, e, { \n\t        // Mice are always active pointers, so their pointer ids won't increment\n\t        // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t        pointerId: pointerId, pointerType: \"mouse\", \n\t        // Mouse pointers are always active and always considered primary, even if multiple mouse devices are connected\n\t        // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t        isPrimary: true, bubbles: canBubble(type, e), cancelable: isCancelable(type, e) });\n\t    // Prevent the event if the pointer id is currently being caught by an EventTarget\n\t    var shouldPreventBecausePointerCapture = (type === \"pointerout\" || type === \"pointerleave\") && POINTER_ID_TO_CAPTURED_TARGET_MAP.has(pointerId);\n\t    if (shouldPreventBecausePointerCapture) {\n\t        if (e.cancelable && !e.defaultPrevented) {\n\t            e.preventDefault();\n\t        }\n\t        return [];\n\t    }\n\t    // Define all properties of MouseEvents that should be set on the event object\n\t    // noinspection JSDeprecatedSymbols\n\t    var overwrittenMouseEventProperties = __assign({ scoped: __assign({ value: e.scoped }, SHARED_DESCRIPTOR_OPTIONS), \n\t        // The 'fromElement' property should be set to 'null' for interoperability reasons according to the spec\n\t        // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t        fromElement: __assign({ value: null }, SHARED_DESCRIPTOR_OPTIONS), \n\t        // The 'toElement' property should be set to 'null' for interoperability reasons according to the spec\n\t        // https://www.w3.org/TR/pointerevents/#pointerevent-interface\n\t        toElement: __assign({ value: null }, SHARED_DESCRIPTOR_OPTIONS), \n\t        // The 'detail' property should always have a value of 0\n\t        // https://www.w3.org/TR/pointerevents/#attributes-and-default-actions\n\t        detail: __assign({ value: 0 }, SHARED_DESCRIPTOR_OPTIONS), \n\t        // The 'composed' property should always have a value of true\n\t        // https://www.w3.org/TR/pointerevents/#attributes-and-default-actions\n\t        composed: __assign({ value: true }, SHARED_DESCRIPTOR_OPTIONS), composedPath: __assign({ value: function () { return getEventPath(e.target); } }, SHARED_DESCRIPTOR_OPTIONS) }, (!(\"region\" in MouseEvent.prototype)\n\t        ? {}\n\t        : {\n\t            region: __assign({ value: e.region }, SHARED_DESCRIPTOR_OPTIONS)\n\t        }), (!(\"path\" in e)\n\t        ? {}\n\t        : {\n\t            path: __assign({ \n\t                // Touch contact are indicated by the button value 0\n\t                value: e.path }, SHARED_DESCRIPTOR_OPTIONS)\n\t        }), (!(\"deepPath\" in Event.prototype) || !isElement(e.target)\n\t        ? {}\n\t        : {\n\t            path: __assign({ value: function () { return getEventPath(e.target); } }, SHARED_DESCRIPTOR_OPTIONS)\n\t        }));\n\t    // Create a new PointerEvent\n\t    var clonedEvent = cloneEventAsPointerEvent({\n\t        e: e,\n\t        type: type,\n\t        initOptions: initOptions,\n\t        overwrittenMouseEventProperties: overwrittenMouseEventProperties,\n\t        dynamicPropertiesHandler: function () { return handleDynamicPropertiesForPointerEventOnMouse(pointerId, type, e); }\n\t    });\n\t    overwriteTargetsForEvent(e, clonedEvent.target, clonedEvent.currentTarget, clonedEvent.relatedTarget);\n\t    return [clonedEvent];\n\t}\n\t/**\n\t * Creates a PointerEvent based on a TouchEvent of the given type and dispatches an event on the event target\n\t * @param {PointerEventType} type\n\t * @param {TouchEvent} e\n\t * @param {EventTarget} eventTarget\n\t * @param {PropertyDescriptorMap} [extraDescriptors]\n\t */\n\tfunction createPointerEventsForMouseOfTypeAndDispatch(type, e, eventTarget, extraDescriptors) {\n\t    var pointerEvents = createPointerEventsForMouseOfType(type, e);\n\t    pointerEvents.forEach(function (clone) {\n\t        if (extraDescriptors != null) {\n\t            Object.defineProperties(clone, extraDescriptors);\n\t        }\n\t        updatePointerIdToCancelFiredSet(clone);\n\t        // Dispatch the event on the target\n\t        eventTarget.dispatchEvent(clone);\n\t    });\n\t    // Handle whatever needs to come after the MouseEvent\n\t    handlePostPointerEventForMouse(type, e);\n\t}\n\t/**\n\t * Creates a PointerEvent based on a MouseEvent of the given type and invokes the listener with it\n\t * @param {PointerEventType} type\n\t * @param {MouseEvent} e\n\t * @param {EventTarget} eventTarget\n\t * @param {EventListenerOrEventListenerObject} listener\n\t */\n\tfunction createPointerEventsForMouseOfTypeAndInvoke(type, e, eventTarget, listener) {\n\t    var pointerEvents = createPointerEventsForMouseOfType(type, e);\n\t    pointerEvents.forEach(function (clone) {\n\t        updatePointerIdToCancelFiredSet(clone);\n\t        // Invoke the listener with the cloned event\n\t        invokeListener(clone, listener);\n\t    });\n\t    // Handle whatever needs to come after the MouseEvent\n\t    handlePostPointerEventForMouse(type, e);\n\t}\n\t/**\n\t * Handles a PointerEvent related to a MouseEvent\n\t * @param {EventTarget} eventTarget\n\t * @param {PointerEventType} type\n\t * @param {MouseEvent} e\n\t * @param {EventListenerOrEventListenerObject} listener\n\t */\n\tfunction handlePointerEventForMouse(eventTarget, type, e, listener) {\n\t    createPointerEventsForMouseOfTypeAndInvoke(type, e, eventTarget, listener);\n\t}\n\n\tvar boundHandlerMap = new Map();\n\t/**\n\t * Adds a bound handler\n\t * @param {EventListenerOrEventListenerObject} listener\n\t * @param {Function} handler\n\t */\n\tfunction addBoundHandler(listener, handler) {\n\t    var set = boundHandlerMap.get(listener);\n\t    if (set == null) {\n\t        set = new Set();\n\t        boundHandlerMap.set(listener, set);\n\t    }\n\t    set.add(handler);\n\t}\n\n\t/**\n\t * Checks if the user agent already supports the PointerEvent constructor\n\t * @type {boolean}\n\t */\n\tvar SUPPORTS_POINTER_EVENTS = \"PointerEvent\" in window;\n\n\tif (!SUPPORTS_POINTER_EVENTS) {\n\t    // Keep a reference to the original addEventListener prototype method\n\t    var originalAddEventListener_1 = EventTarget.prototype.addEventListener;\n\t    /**\n\t     * Overwrite it such that we can add special handling for PointerEvents\n\t     * @param {string} type\n\t     * @param {EventListenerOrEventListenerObject | null} listener\n\t     * @param {boolean | AddEventListenerOptions} options\n\t     */\n\t    EventTarget.prototype.addEventListener = function (type, listener, options) {\n\t        var _this = this;\n\t        if (listener == null) {\n\t            return originalAddEventListener_1(type, listener, options);\n\t        }\n\t        if (isPointerEventType(type)) {\n\t            var convertedEventType = convertPointerEventType(type);\n\t            var handler = function (e) { return (\"changedTouches\" in e ? handlePointerEventForTouch(_this, type, e, listener) : handlePointerEventForMouse(_this, type, e, listener)); };\n\t            var firedPointerEventsHandler = function (e) {\n\t                // Only call the listener if the PointerEvent is **NOT** trusted\n\t                // This is to ensure that no duplicate events are fired in browsers that natively supports PointerEvents, but where this polyfill is force-applied anyway\n\t                if (!e.isTrusted) {\n\t                    invokeListener(e, listener);\n\t                }\n\t            };\n\t            if (convertedEventType != null) {\n\t                originalAddEventListener_1.call(this, convertedEventType, handler, options);\n\t                // Add the original listener to the bound handler Map mapped to the 'handler' function so that we can\n\t                // remove the listener at a later point\n\t                addBoundHandler(listener, handler);\n\t            }\n\t            // Also add a listener for the pointer event name since these may be fired on the node as well\n\t            originalAddEventListener_1.call(this, type, firedPointerEventsHandler, options);\n\t            // Add the original listener to the bound handler Map mapped to the 'firedPointerEventsHandler' function so that we can\n\t            // remove the listener at a later point\n\t            addBoundHandler(listener, firedPointerEventsHandler);\n\t        }\n\t        else {\n\t            originalAddEventListener_1.call(this, type, listener, options);\n\t        }\n\t    };\n\t}\n\n\tif (!SUPPORTS_POINTER_EVENTS) {\n\t    // Keep a reference to the original removeEventListener prototype method\n\t    var originalRemoveEventListener_1 = EventTarget.prototype.removeEventListener;\n\t    /**\n\t     * Overwrite the removeEventListener prototype method such that we can provide special handling\n\t     * for PointerEvents\n\t     * @param {string} type\n\t     * @param {EventListenerOrEventListenerObject | null} listener\n\t     * @param {EventListenerOptions | boolean} options\n\t     */\n\t    EventTarget.prototype.removeEventListener = function (type, listener, options) {\n\t        var _this = this;\n\t        var convertedEventType = isPointerEventType(type) ? convertPointerEventType(type) : undefined;\n\t        if (listener == null) {\n\t            originalRemoveEventListener_1.call(this, type, null, options);\n\t            if (convertedEventType != null) {\n\t                originalRemoveEventListener_1.call(this, convertedEventType, null, options);\n\t            }\n\t            return;\n\t        }\n\t        var boundHandlers = boundHandlerMap.get(listener);\n\t        if (boundHandlers != null) {\n\t            boundHandlers.forEach(function (handler) {\n\t                originalRemoveEventListener_1.call(_this, type, handler, options);\n\t                if (convertedEventType != null) {\n\t                    originalRemoveEventListener_1.call(_this, convertedEventType, handler, options);\n\t                }\n\t            });\n\t            boundHandlerMap[\"delete\"](listener);\n\t        }\n\t        else {\n\t            originalRemoveEventListener_1.call(this, type, listener, options);\n\t            if (convertedEventType != null) {\n\t                originalRemoveEventListener_1.call(this, convertedEventType, listener, options);\n\t            }\n\t        }\n\t    };\n\t}\n\n\t// tslint:disable:no-any\n\t// Only patch the dispatchEvent EventTarget prototype method if the user agent\n\t// doesn't already support Global Event Handlers for Pointer Events\n\tif (!SUPPORTS_POINTER_EVENT_HANDLERS) {\n\t    // Add EventHandlers such that \"in\" checks return true\n\t    EventTarget.prototype.ongotpointercapture = null;\n\t    EventTarget.prototype.onlostpointercapture = null;\n\t    EventTarget.prototype.onpointerdown = null;\n\t    EventTarget.prototype.onpointermove = null;\n\t    EventTarget.prototype.onpointerup = null;\n\t    EventTarget.prototype.onpointercancel = null;\n\t    EventTarget.prototype.onpointerover = null;\n\t    EventTarget.prototype.onpointerout = null;\n\t    EventTarget.prototype.onpointerenter = null;\n\t    EventTarget.prototype.onpointerleave = null;\n\t}\n\n\t// tslint:disable:no-any\n\tvar hasPointerLock = false;\n\tvar HAS_POINTER_LOCK = function () { return hasPointerLock; };\n\t/**\n\t * Invoked when a \"pointerlockchange\" event is fired. Is used to\n\t * update the value of 'hasPointerLock'\n\t */\n\tvar handler = function () {\n\t    hasPointerLock = document.pointerLockElement != null && document.mozPointerLockElement != null;\n\t};\n\t// Listen for PointerLock events\n\tdocument.addEventListener(\"pointerlockchange\", handler);\n\tdocument.addEventListener(\"mozpointerlockchange\", handler);\n\n\t/**\n\t * Throws a DOMException if possible, otherwise it falls back to throwing a regular error\n\t * @param {string} message\n\t * @param {string} name\n\t */\n\tfunction throwDOMException(message, name) {\n\t    var exception;\n\t    try {\n\t        exception = new DOMException(message, name);\n\t    }\n\t    catch (ex) {\n\t        exception = new Error(name + \": \" + message);\n\t        if (name != null) {\n\t            exception.name = name;\n\t        }\n\t    }\n\t    throw exception;\n\t}\n\n\tif (!SUPPORTS_POINTER_EVENTS) {\n\t    /**\n\t     * Sets pointer capture for the pointer identified by the argument pointerId to the element on which\n\t     * this method is invoked\n\t     * https://www.w3.org/TR/pointerevents/#extensions-to-the-element-interface\n\t     * @param {number} pointerId\n\t     */\n\t    Element.prototype.setPointerCapture = function (pointerId) {\n\t        // If no active pointer exists with the given pointer id, throw a DOMException\n\t        // with name 'InvalidPointerId'\n\t        // https://www.w3.org/TR/pointerevents/#setting-pointer-capture\n\t        if (!SEEN_POINTER_IDS.has(pointerId)) {\n\t            throwDOMException(\"Could not set pointer capture on an element: No active pointers exist with the given pointer id: '\" + pointerId + \"'\", \"InvalidPointerId\");\n\t        }\n\t        // If the element is not connected, throw an InvalidStateError\n\t        // https://www.w3.org/TR/pointerevents/#setting-pointer-capture\n\t        if (!this.isConnected) {\n\t            throwDOMException(\"Could not set pointer capture on an element: It wasn't connected!\", \"InvalidStateError\");\n\t        }\n\t        if (HAS_POINTER_LOCK()) {\n\t            throwDOMException(\"Could not set pointer capture on an element: The document had a PointerLock!\", \"InvalidStateError\");\n\t        }\n\t        // Otherwise, mark the pointer id as captured by this element\n\t        POINTER_ID_TO_CAPTURED_TARGET_MAP.set(pointerId, this);\n\t        isTouchDevice\n\t            ? createPointerEventsForTouchOfTypeAndDispatch(\"gotpointercapture\", new TouchEvent(\"\"), this)\n\t            : createPointerEventsForMouseOfTypeAndDispatch(\"gotpointercapture\", new MouseEvent(\"\"), this);\n\t    };\n\t}\n\n\tif (!SUPPORTS_POINTER_EVENTS) {\n\t    /**\n\t     * Releases pointer capture for the pointer identified by the argument pointerId to the element on which\n\t     * this method is invoked\n\t     * https://www.w3.org/TR/pointerevents/#extensions-to-the-element-interface\n\t     * @param {number} pointerId\n\t     */\n\t    Element.prototype.releasePointerCapture = function (pointerId) {\n\t        // If no active pointer exists with the given pointer id, throw a DOMException\n\t        // with name 'InvalidPointerId'\n\t        // https://www.w3.org/TR/pointerevents/#setting-pointer-capture\n\t        if (!SEEN_POINTER_IDS.has(pointerId)) {\n\t            throwDOMException(\"Could not release pointer capture on an element: No active pointers exist with the given pointer id: '\" + pointerId + \"'\", \"InvalidPointerId\");\n\t        }\n\t        // Otherwise, mark the pointer id as captured by this element\n\t        POINTER_ID_TO_CAPTURED_TARGET_MAP[\"delete\"](pointerId);\n\t        isTouchDevice\n\t            ? createPointerEventsForTouchOfTypeAndDispatch(\"lostpointercapture\", new TouchEvent(\"\"), this)\n\t            : createPointerEventsForMouseOfTypeAndDispatch(\"lostpointercapture\", new MouseEvent(\"\"), this);\n\t    };\n\t}\n\n\t// tslint:disable:no-any\n\tif (!SUPPORTS_POINTER_EVENTS) {\n\t    /**\n\t     * Checks if the element has pointer capture for the pointer identified by the argument pointerId\n\t     * https://www.w3.org/TR/pointerevents/#extensions-to-the-element-interface\n\t     * @param {number} pointerId\n\t     */\n\t    Element.prototype.hasPointerCapture = function (pointerId) {\n\t        return POINTER_ID_TO_CAPTURED_TARGET_MAP.get(pointerId) != null;\n\t    };\n\t}\n\n\t// tslint:disable:no-any\n\t// Only patch the window object if it doesn't already have a PointerEvent constructor\n\tif (!SUPPORTS_POINTER_EVENTS) {\n\t    // Set the PointerEvent reference on the window object\n\t    window.PointerEvent = PointerEvent;\n\t}\n\n}());\n//# sourceMappingURL=index.js.map\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar objectCreate = Object.create || objectCreatePolyfill\nvar objectKeys = Object.keys || objectKeysPolyfill\nvar bind = Function.prototype.bind || functionBindPolyfill\n\nfunction EventEmitter() {\n  if (!this._events || !Object.prototype.hasOwnProperty.call(this, '_events')) {\n    this._events = objectCreate(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nvar hasDefineProperty;\ntry {\n  var o = {};\n  if (Object.defineProperty) Object.defineProperty(o, 'x', { value: 0 });\n  hasDefineProperty = o.x === 0;\n} catch (err) { hasDefineProperty = false }\nif (hasDefineProperty) {\n  Object.defineProperty(EventEmitter, 'defaultMaxListeners', {\n    enumerable: true,\n    get: function() {\n      return defaultMaxListeners;\n    },\n    set: function(arg) {\n      // check whether the input is a positive number (whose value is zero or\n      // greater and not a NaN).\n      if (typeof arg !== 'number' || arg < 0 || arg !== arg)\n        throw new TypeError('\"defaultMaxListeners\" must be a positive number');\n      defaultMaxListeners = arg;\n    }\n  });\n} else {\n  EventEmitter.defaultMaxListeners = defaultMaxListeners;\n}\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    if (arguments.length > 1)\n      er = arguments[1];\n    if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Unhandled \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n      // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n      // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = objectCreate(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n          listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n          prepend ? [listener, existing] : [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n            existing.length + ' \"' + String(type) + '\" listeners ' +\n            'added. Use emitter.setMaxListeners() to ' +\n            'increase limit.');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        if (typeof console === 'object' && console.warn) {\n          console.warn('%s: %s', w.name, w.message);\n        }\n      }\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    switch (arguments.length) {\n      case 0:\n        return this.listener.call(this.target);\n      case 1:\n        return this.listener.call(this.target, arguments[0]);\n      case 2:\n        return this.listener.call(this.target, arguments[0], arguments[1]);\n      case 3:\n        return this.listener.call(this.target, arguments[0], arguments[1],\n            arguments[2]);\n      default:\n        var args = new Array(arguments.length);\n        for (var i = 0; i < args.length; ++i)\n          args[i] = arguments[i];\n        this.listener.apply(this.target, args);\n    }\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = bind.call(onceWrapper, state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = objectCreate(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else\n          spliceOne(list, position);\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = objectCreate(null);\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = objectCreate(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = objectKeys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = objectCreate(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (!events)\n    return [];\n\n  var evlistener = events[type];\n  if (!evlistener)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction objectCreatePolyfill(proto) {\n  var F = function() {};\n  F.prototype = proto;\n  return new F;\n}\nfunction objectKeysPolyfill(obj) {\n  var keys = [];\n  for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k)) {\n    keys.push(k);\n  }\n  return k;\n}\nfunction functionBindPolyfill(context) {\n  var fn = this;\n  return function () {\n    return fn.apply(context, arguments);\n  };\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n"]}